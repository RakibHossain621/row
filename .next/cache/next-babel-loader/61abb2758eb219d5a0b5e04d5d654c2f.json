{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\components\\\\file\\\\list-media.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { DeleteOutlined, PlayCircleOutlined } from '@ant-design/icons';\nimport { Progress, Button, Tooltip, Image, Modal } from 'antd';\nimport { VideoPlayer } from '@components/common';\nimport '../post/index.less';\nimport { getGlobalConfig } from '@services/config';\nexport default class UploadList extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"state\", {\n      isShowPreview: false,\n      previewUrl: ''\n    });\n  }\n  beforeUpload(file, fileList) {\n    const config = getGlobalConfig();\n    const {\n      type\n    } = this.props;\n    if (type === 'photo' && (file.type.indexOf('video') > -1 || file.size / 1024 / 1024 > (config.NEXT_PUBLIC_MAX_SIZE_IMAGE || 5))) {\n      return false;\n    }\n    if (type === 'video' && file.type.indexOf('image') > -1) {\n      return false;\n    }\n    const {\n      onAddMore: handleAddMore\n    } = this.props;\n    return handleAddMore(file, fileList);\n  }\n  render() {\n    const {\n      files,\n      remove: handleRemove,\n      uploading,\n      type\n    } = this.props;\n    const {\n      isShowPreview,\n      previewUrl\n    } = this.state;\n    const config = getGlobalConfig();\n    return __jsx(\"div\", {\n      className: \"f-upload-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, files && files.map(file => __jsx(\"div\", {\n      className: \"f-upload-item\",\n      key: file._id || file.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"f-upload-thumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, file.type.includes('feed-photo') || file.type.includes('image') ? __jsx(Image, {\n      placeholder: true,\n      alt: \"img\",\n      src: file.url ? file.url : file.thumbnail,\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    }) : file.type.includes('video') ? __jsx(\"span\", {\n      className: \"f-thumb-vid\",\n      \"aria-hidden\": true,\n      onClick: () => this.setState({\n        isShowPreview: true,\n        previewUrl: file === null || file === void 0 ? void 0 : file.url\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }\n    }, __jsx(PlayCircleOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    })) : __jsx(\"img\", {\n      alt: \"img\",\n      src: \"/static/no-image.jpg\",\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"f-upload-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, __jsx(Tooltip, {\n      title: file.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, file.name)), __jsx(\"div\", {\n      className: \"f-upload-size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, (file.size / (1024 * 1024)).toFixed(2), ' ', \"MB\"), file.status !== 'uploading' && __jsx(\"span\", {\n      className: \"f-remove\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      type: \"primary\",\n      onClick: handleRemove.bind(this, file),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, __jsx(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }))), file.percent && __jsx(Progress, {\n      percent: Math.round(file.percent),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 30\n      }\n    }))), __jsx(Modal, {\n      width: 767,\n      footer: null,\n      onOk: () => this.setState({\n        isShowPreview: false\n      }),\n      onCancel: () => this.setState({\n        isShowPreview: false\n      }),\n      visible: isShowPreview,\n      destroyOnClose: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, __jsx(VideoPlayer, {\n      autoplay: true,\n      controls: true,\n      playsinline: true,\n      fluid: true,\n      sources: [{\n        src: previewUrl,\n        type: 'video/mp4'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    })));\n  }\n}\n\n//  {(type === 'photo' || (type === 'video' && !files.length)) && (\n//   <div className=\"add-more\">\n//   <Upload\n//     customRequest={() => true}\n//     accept={type === 'photo' ? config.NEXT_PUBLIC_IMAGE_ACCPET : 'video/*'}\n//     beforeUpload={this.beforeUpload.bind(this)}\n//     multiple={false}\n//     showUploadList={false}\n//     disabled={uploading}\n//     listType=\"picture\"\n//   >\n//     <PlusOutlined />\n//     {' '}\n//     Add\n//     {' '}\n//     {/* eslint-disable-next-line no-nested-ternary */}\n//     {type === 'photo' ? 'photos' : type === 'video' ? 'video' : 'files'}\n//   </Upload>\n// </div>\n// )}","map":{"version":3,"names":["PureComponent","DeleteOutlined","PlayCircleOutlined","Progress","Button","Tooltip","Image","Modal","VideoPlayer","getGlobalConfig","UploadList","constructor","args","_defineProperty","isShowPreview","previewUrl","beforeUpload","file","fileList","config","type","props","indexOf","size","NEXT_PUBLIC_MAX_SIZE_IMAGE","onAddMore","handleAddMore","render","files","remove","handleRemove","uploading","state","__jsx","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","_id","uid","includes","placeholder","alt","src","url","thumbnail","width","onClick","setState","title","name","toFixed","status","bind","percent","Math","round","footer","onOk","onCancel","visible","destroyOnClose","autoplay","controls","playsinline","fluid","sources"],"sources":["C:/Users/Rokibul/Documents/case/src/components/file/list-media.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { DeleteOutlined, PlusOutlined, PlayCircleOutlined } from '@ant-design/icons';\nimport {\n  Progress, Button, Upload, Tooltip, Image, Modal\n} from 'antd';\nimport { VideoPlayer } from '@components/common';\nimport '../post/index.less';\nimport { getGlobalConfig } from '@services/config';\n\ninterface IProps {\n  remove: Function;\n  files: any[];\n  onAddMore: Function;\n  uploading: boolean;\n  type?: string;\n}\nexport default class UploadList extends PureComponent<IProps> {\n  state = {\n    isShowPreview: false,\n    previewUrl: ''\n  }\n\n  beforeUpload(file, fileList) {\n    const config = getGlobalConfig();\n    const {\n      type\n    } = this.props;\n    if (type === 'photo' && (file.type.indexOf('video') > -1 || file.size / 1024 / 1024 > (config.NEXT_PUBLIC_MAX_SIZE_IMAGE || 5))) {\n      return false;\n    }\n    if (type === 'video' && file.type.indexOf('image') > -1) {\n      return false;\n    }\n    const { onAddMore: handleAddMore } = this.props;\n    return handleAddMore(file, fileList);\n  }\n\n  render() {\n    const {\n      files, remove: handleRemove, uploading, type\n    } = this.props;\n    const { isShowPreview, previewUrl } = this.state;\n    const config = getGlobalConfig();\n\n    return (\n      <div className=\"f-upload-list\">\n        {files && files.map((file) => (\n          <div className=\"f-upload-item\" key={file._id || file.uid}>\n            <div className=\"f-upload-thumb\">\n              {/* eslint-disable-next-line no-nested-ternary */}\n              {(file.type.includes('feed-photo') || file.type.includes('image'))\n                ? <Image placeholder alt=\"img\" src={file.url ? file.url : file.thumbnail} width=\"100%\" />\n                : file.type.includes('video') ? (\n                  <span className=\"f-thumb-vid\" aria-hidden onClick={() => this.setState({ isShowPreview: true, previewUrl: file?.url })}>\n                    <PlayCircleOutlined />\n                  </span>\n                ) : <img alt=\"img\" src=\"/static/no-image.jpg\" width=\"100%\" />}\n            </div>\n            <div className=\"f-upload-name\">\n              <Tooltip title={file.name}>{file.name}</Tooltip>\n            </div>\n            <div className=\"f-upload-size\">\n              {(file.size / (1024 * 1024)).toFixed(2)}\n              {' '}\n              MB\n            </div>\n            {file.status !== 'uploading'\n              && (\n              <span className=\"f-remove\">\n                <Button type=\"primary\" onClick={handleRemove.bind(this, file)}>\n                  <DeleteOutlined />\n                </Button>\n              </span>\n              )}\n            {file.percent && <Progress percent={Math.round(file.percent)} />}\n          </div>\n        ))}\n\n        <Modal\n          width={767}\n          footer={null}\n          onOk={() => this.setState({ isShowPreview: false })}\n          onCancel={() => this.setState({ isShowPreview: false })}\n          visible={isShowPreview}\n          destroyOnClose\n        >\n          <VideoPlayer\n            {...{\n              autoplay: true,\n              controls: true,\n              playsinline: true,\n              fluid: true,\n              sources: [\n                {\n                  src: previewUrl,\n                  type: 'video/mp4'\n                }\n              ]\n            }}\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\n//  {(type === 'photo' || (type === 'video' && !files.length)) && (\n//   <div className=\"add-more\">\n//   <Upload\n//     customRequest={() => true}\n//     accept={type === 'photo' ? config.NEXT_PUBLIC_IMAGE_ACCPET : 'video/*'}\n//     beforeUpload={this.beforeUpload.bind(this)}\n//     multiple={false}\n//     showUploadList={false}\n//     disabled={uploading}\n//     listType=\"picture\"\n//   >\n//     <PlusOutlined />\n//     {' '}\n//     Add\n//     {' '}\n//     {/* eslint-disable-next-line no-nested-ternary */}\n//     {type === 'photo' ? 'photos' : type === 'video' ? 'video' : 'files'}\n//   </Upload>\n// </div>\n// )}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}