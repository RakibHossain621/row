{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\components\\\\performer\\\\name-card.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable consistent-return */\n/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport Link from 'next/link';\nimport { TickIcon } from 'src/icons';\nimport './performer.less';\nimport { connect } from 'react-redux';\nimport { streamService } from 'src/services';\nclass PerformerNameCard extends PureComponent {\n  constructor(...args) {\n    var _this$props;\n    super(...args);\n    _defineProperty(this, \"state\", {\n      streamId: null,\n      totalFollowers: 0,\n      number: (this === null || this === void 0 ? void 0 : (_this$props = this.props) === null || _this$props === void 0 ? void 0 : _this$props.modelNumber) || 0\n    });\n    _defineProperty(this, \"onMouseEnter\", async () => {\n      const {\n        performer\n      } = this.props;\n      try {\n        const resp = await Promise.resolve(streamService.getLiveStreaming(performer._id));\n        if (resp.data) this.setState({\n          streamId: resp.data\n        });\n      } catch (error) {\n        this.setState({\n          streamId: ''\n        });\n      }\n    });\n  }\n  componentDidMount() {\n    var _performer$stats, _performer$ranking;\n    const {\n      performer,\n      filter\n    } = this.props;\n    this.setState({\n      totalFollowers: performer === null || performer === void 0 ? void 0 : (_performer$stats = performer.stats) === null || _performer$stats === void 0 ? void 0 : _performer$stats.totalFollower\n    });\n    if (filter && filter !== null && filter !== void 0 && filter.q) {\n      switch (filter.sortBy) {\n        case 'mostFollowed':\n          return this.setState({\n            number: (performer === null || performer === void 0 ? void 0 : (_performer$ranking = performer.ranking) === null || _performer$ranking === void 0 ? void 0 : _performer$ranking.mostFansPosition) || 0\n          });\n          6;\n        // case 'earningCurrentMonth':\n        //   return this.setState({ number: performer?.ranking?.mostSupportedPosition || 0 });\n        // case 'mostView':\n        //   return this.setState({ number: performer?.ranking?.feedViewsPosition || 0 });\n        default:\n          return null;\n      }\n    }\n  }\n  render() {\n    var _performer$name, _performer$username;\n    const {\n      performer,\n      modelNumber,\n      pathname,\n      as,\n      filter,\n      hideFollower\n    } = this.props;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {\n      streamId,\n      totalFollowers,\n      number\n    } = this.state;\n    return __jsx(\"div\", {\n      className: `rounded-lg p-2 cursor-pointer ${performer.gender === 'female' ? 'bg-purple-900' : 'bg-blue-900'}`,\n      onMouseLeave: () => this.setState({\n        streamId: null\n      }),\n      onMouseEnter: this.onMouseEnter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, __jsx(Link, {\n      href: {\n        pathname,\n        query: {\n          performer: JSON.stringify(performer),\n          username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n        }\n      },\n      as: as,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, filter && filter !== null && filter !== void 0 && filter.q ? __jsx(\"p\", {\n      className: \"text-white font-semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, number || 'N/A') : __jsx(\"p\", {\n      className: \"text-white font-semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, modelNumber || 'N/A'), __jsx(\"p\", {\n      className: \"text-white font-semibold text-md flex items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, (performer === null || performer === void 0 ? void 0 : (_performer$name = performer.name) === null || _performer$name === void 0 ? void 0 : _performer$name.split(' ')[0].substring(0, 15)) || (performer === null || performer === void 0 ? void 0 : (_performer$username = performer.username) === null || _performer$username === void 0 ? void 0 : _performer$username.split(' ')[0].substring(0, 15)) || '', (performer === null || performer === void 0 ? void 0 : performer.verifiedAccount) && __jsx(TickIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 46\n      }\n    })))));\n  }\n}\nconst mapStates = state => ({\n  currentUser: _objectSpread({}, state.user.current)\n});\nexport default connect(mapStates)(PerformerNameCard);","map":{"version":3,"names":["PureComponent","Link","TickIcon","connect","streamService","PerformerNameCard","constructor","args","_this$props","_defineProperty","streamId","totalFollowers","number","props","modelNumber","performer","resp","Promise","resolve","getLiveStreaming","_id","data","setState","error","componentDidMount","_performer$stats","_performer$ranking","filter","stats","totalFollower","q","sortBy","ranking","mostFansPosition","render","_performer$name","_performer$username","pathname","as","hideFollower","state","__jsx","className","gender","onMouseLeave","onMouseEnter","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","href","query","JSON","stringify","username","name","split","substring","verifiedAccount","mapStates","currentUser","_objectSpread","user","current"],"sources":["C:/Users/Rokibul/Documents/case/src/components/performer/name-card.tsx"],"sourcesContent":["/* eslint-disable react/destructuring-assignment */\n/* eslint-disable consistent-return */\n/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { IPerformer } from 'src/interfaces';\nimport Link from 'next/link';\nimport { TickIcon } from 'src/icons';\nimport './performer.less';\n\nimport { connect } from 'react-redux';\nimport { streamService } from 'src/services';\n\ninterface IProps {\n  performer: IPerformer;\n  pathname: string;\n  modelNumber: number;\n  as: string;\n  filter?:any;\n  hideFollower?: boolean;\n}\n\nclass PerformerNameCard extends PureComponent<IProps> {\n  state = {\n    streamId: null,\n    totalFollowers: 0,\n    number: this?.props?.modelNumber || 0\n\n  }\n\n  componentDidMount() {\n    const { performer, filter } = this.props;\n    this.setState({ totalFollowers: performer?.stats?.totalFollower });\n    if (filter && filter?.q) {\n      switch (filter.sortBy) {\n        case 'mostFollowed':\n          return this.setState({ number: performer?.ranking?.mostFansPosition || 0 });\n6        // case 'earningCurrentMonth':\n        //   return this.setState({ number: performer?.ranking?.mostSupportedPosition || 0 });\n        // case 'mostView':\n        //   return this.setState({ number: performer?.ranking?.feedViewsPosition || 0 });\n        default: return null;\n      }\n    }\n  }\n\n  onMouseEnter = async () => {\n    const { performer } = this.props;\n    try {\n      const resp = await Promise.resolve(streamService.getLiveStreaming(performer._id));\n      if (resp.data) this.setState({ streamId: resp.data });\n    } catch (error) {\n      this.setState({ streamId: '' });\n    }\n  };\n\n  render() {\n    const {\n      performer, modelNumber, pathname, as, filter, hideFollower\n    } = this.props;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { streamId, totalFollowers, number } = this.state;\n    return (\n      <div \n        className={`rounded-lg p-2 cursor-pointer ${performer.gender === 'female' ? 'bg-purple-900' : 'bg-blue-900'}`} \n        onMouseLeave={() => this.setState({ streamId: null })} \n        onMouseEnter={this.onMouseEnter}\n      >\n        <Link\n          href={{\n            pathname,\n            query: {\n              performer: JSON.stringify(performer),\n              username: performer?.username || performer?._id\n            }\n          }}\n          as={\n            as\n          }\n        >\n          <div className=\"\">\n            {filter && filter?.q \n              ? <p className=\"text-white font-semibold\">{number || 'N/A'}</p> \n              : <p className=\"text-white font-semibold\">{modelNumber || 'N/A'}</p> \n            }\n            <p className=\"text-white font-semibold text-md flex items-center\">\n              {performer?.name?.split(' ')[0].substring(0, 15) || performer?.username?.split(' ')[0].substring(0, 15) || ''}\n              {performer?.verifiedAccount && <TickIcon />}\n            </p>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\nconst mapStates = (state: any) => ({\n  currentUser: { ...state.user.current }\n});\n\nexport default connect(mapStates)(PerformerNameCard);\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,OAAO;AAErC,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,QAAQ,QAAQ,WAAW;AACpC,OAAO,kBAAkB;AAEzB,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,aAAa,QAAQ,cAAc;AAW5C,MAAMC,iBAAiB,SAASL,aAAa,CAAS;EAAAM,YAAA,GAAAC,IAAA;IAAA,IAAAC,WAAA;IAAA,SAAAD,IAAA;IAAAE,eAAA,gBAC5C;MACNC,QAAQ,EAAE,IAAI;MACdC,cAAc,EAAE,CAAC;MACjBC,MAAM,EAAE,KAAI,aAAJ,IAAI,wBAAAJ,WAAA,GAAJ,IAAI,CAAEK,KAAK,cAAAL,WAAA,uBAAXA,WAAA,CAAaM,WAAW,KAAI;IAEtC,CAAC;IAAAL,eAAA,uBAkBc,YAAY;MACzB,MAAM;QAAEM;MAAU,CAAC,GAAG,IAAI,CAACF,KAAK;MAChC,IAAI;QACF,MAAMG,IAAI,GAAG,MAAMC,OAAO,CAACC,OAAO,CAACd,aAAa,CAACe,gBAAgB,CAACJ,SAAS,CAACK,GAAG,CAAC,CAAC;QACjF,IAAIJ,IAAI,CAACK,IAAI,EAAE,IAAI,CAACC,QAAQ,CAAC;UAAEZ,QAAQ,EAAEM,IAAI,CAACK;QAAK,CAAC,CAAC;MACvD,CAAC,CAAC,OAAOE,KAAK,EAAE;QACd,IAAI,CAACD,QAAQ,CAAC;UAAEZ,QAAQ,EAAE;QAAG,CAAC,CAAC;MACjC;IACF,CAAC;EAAA;EAxBDc,iBAAiBA,CAAA,EAAG;IAAA,IAAAC,gBAAA,EAAAC,kBAAA;IAClB,MAAM;MAAEX,SAAS;MAAEY;IAAO,CAAC,GAAG,IAAI,CAACd,KAAK;IACxC,IAAI,CAACS,QAAQ,CAAC;MAAEX,cAAc,EAAEI,SAAS,aAATA,SAAS,wBAAAU,gBAAA,GAATV,SAAS,CAAEa,KAAK,cAAAH,gBAAA,uBAAhBA,gBAAA,CAAkBI;IAAc,CAAC,CAAC;IAClE,IAAIF,MAAM,IAAIA,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEG,CAAC,EAAE;MACvB,QAAQH,MAAM,CAACI,MAAM;QACnB,KAAK,cAAc;UACjB,OAAO,IAAI,CAACT,QAAQ,CAAC;YAAEV,MAAM,EAAE,CAAAG,SAAS,aAATA,SAAS,wBAAAW,kBAAA,GAATX,SAAS,CAAEiB,OAAO,cAAAN,kBAAA,uBAAlBA,kBAAA,CAAoBO,gBAAgB,KAAI;UAAE,CAAC,CAAC;UACrF,CAAC;QAAQ;QACD;QACA;QACA;QACA;UAAS,OAAO,IAAI;MACtB;IACF;EACF;EAYAC,MAAMA,CAAA,EAAG;IAAA,IAAAC,eAAA,EAAAC,mBAAA;IACP,MAAM;MACJrB,SAAS;MAAED,WAAW;MAAEuB,QAAQ;MAAEC,EAAE;MAAEX,MAAM;MAAEY;IAChD,CAAC,GAAG,IAAI,CAAC1B,KAAK;;IAEd;IACA,MAAM;MAAEH,QAAQ;MAAEC,cAAc;MAAEC;IAAO,CAAC,GAAG,IAAI,CAAC4B,KAAK;IACvD,OACEC,KAAA;MACEC,SAAS,EAAE,iCAAiC3B,SAAS,CAAC4B,MAAM,KAAK,QAAQ,GAAG,eAAe,GAAG,aAAa,EAAG;MAC9GC,YAAY,EAAEA,CAAA,KAAM,IAAI,CAACtB,QAAQ,CAAC;QAAEZ,QAAQ,EAAE;MAAK,CAAC,CAAE;MACtDmC,YAAY,EAAE,IAAI,CAACA,YAAa;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEhCV,KAAA,CAACxC,IAAI;MACHmD,IAAI,EAAE;QACJf,QAAQ;QACRgB,KAAK,EAAE;UACLtC,SAAS,EAAEuC,IAAI,CAACC,SAAS,CAACxC,SAAS,CAAC;UACpCyC,QAAQ,EAAE,CAAAzC,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEyC,QAAQ,MAAIzC,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEK,GAAG;QACjD;MACF,CAAE;MACFkB,EAAE,EACAA,EACD;MAAAQ,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEDV,KAAA;MAAKC,SAAS,EAAC,EAAE;MAAAI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACdxB,MAAM,IAAIA,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEG,CAAC,GAChBW,KAAA;MAAGC,SAAS,EAAC,0BAA0B;MAAAI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEvC,MAAM,IAAI,KAAS,CAAC,GAC7D6B,KAAA;MAAGC,SAAS,EAAC,0BAA0B;MAAAI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAErC,WAAW,IAAI,KAAS,CAAC,EAEtE2B,KAAA;MAAGC,SAAS,EAAC,oDAAoD;MAAAI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC9D,CAAApC,SAAS,aAATA,SAAS,wBAAAoB,eAAA,GAATpB,SAAS,CAAE0C,IAAI,cAAAtB,eAAA,uBAAfA,eAAA,CAAiBuB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,MAAI5C,SAAS,aAATA,SAAS,wBAAAqB,mBAAA,GAATrB,SAAS,CAAEyC,QAAQ,cAAApB,mBAAA,uBAAnBA,mBAAA,CAAqBsB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAI,EAAE,EAC5G,CAAA5C,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE6C,eAAe,KAAInB,KAAA,CAACvC,QAAQ;MAAA4C,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACzC,CACA,CACD,CACH,CAAC;EAEV;AACF;AACA,MAAMU,SAAS,GAAIrB,KAAU,KAAM;EACjCsB,WAAW,EAAAC,aAAA,KAAOvB,KAAK,CAACwB,IAAI,CAACC,OAAO;AACtC,CAAC,CAAC;AAEF,eAAe9D,OAAO,CAAC0D,SAAS,CAAC,CAACxD,iBAAiB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}