{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roman\\\\Pictures\\\\Case\\\\row\\\\src\\\\components\\\\performer\\\\feed-video.tsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React, { createRef, PureComponent } from 'react';\nimport { feedService } from '@services/feed.service';\nimport { MoreOutlined, UnlockOutlined, DeleteOutlined, FlagOutlined, EditOutlined, LockOutlined, AlignRightOutlined } from '@ant-design/icons';\nimport { Menu, Dropdown, Button, Popover, message, Modal, Image, Divider } from 'antd';\nimport { connect } from 'react-redux';\nimport { getComments, moreComment, createComment, deleteComment } from '@redux/comment/actions';\nimport { ShareIcon, ProfileIcon } from 'src/icons';\nimport { formatDateFromnow, shortenLargeNumber } from 'src/lib';\nimport Linkify from 'linkifyjs/react';\nimport * as linkify from 'linkifyjs';\nimport hashtag from 'linkifyjs/plugins/hashtag';\nimport './feed-video.less';\nimport { InView } from 'react-intersection-observer';\nimport Router from 'next/router';\nimport { reportService } from '@services/index';\nimport { removeFeedSuccess, removeTrendingFeedSuccess, setMetaThumbnail } from '@redux/feed/actions';\nimport { updateStatsView } from '@redux/user/actions';\nimport Link from 'next/link';\nimport ButtonFollow from '@components/common/buttonFollow';\nimport ContentSidebarLayout from '@components/common/layout/content-sidebar-layout';\nimport ContentLeftbarLayout from '@components/common/layout/content-leftbar-layout';\nimport ShareButtons from '@components/performer/share-post';\nimport dynamic from 'next/dynamic';\nconst VerifiedEmailForm = dynamic(() => import('@components/performer/verified-email-form'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/performer/verified-email-form')],\n    modules: ['@components/performer/verified-email-form']\n  }\n});\nconst ListComments = dynamic(() => import('@components/comment/list-comments'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/comment/list-comments')],\n    modules: ['@components/comment/list-comments']\n  }\n});\nconst CommentForm = dynamic(() => import('@components/comment/comment-form'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/comment/comment-form')],\n    modules: ['@components/comment/comment-form']\n  }\n});\nconst ReportForm = dynamic(() => import('@components/report/report-form'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/report/report-form')],\n    modules: ['@components/report/report-form']\n  }\n});\nhashtag(linkify);\nclass FeedVideo extends PureComponent {\n  constructor(...args) {\n    var _this$props, _this$props$feed;\n    super(...args);\n    _defineProperty(this, \"state\", {\n      visibleAction: false,\n      itemPerPage: 12,\n      commentPage: 0,\n      totalComment: 0,\n      showComment: false,\n      inView: false,\n      openReportModal: false,\n      requesting: false,\n      // eslint-disable-next-line react/destructuring-assignment\n      status: (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$feed = _this$props.feed) === null || _this$props$feed === void 0 ? void 0 : _this$props$feed.status,\n      isPlaying: false,\n      isShowProgressBar: false,\n      progress: 0,\n      progressBarWidth: 0,\n      isMute: false,\n      openVerifiedEmailModal: false,\n      loop: 0\n    });\n    _defineProperty(this, \"videoRef\", void 0);\n    _defineProperty(this, \"wrapperRef\", void 0);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"privateVideo\", async () => {\n      const {\n        feed\n      } = this.props;\n      const {\n        status\n      } = this.state;\n      try {\n        await this.setState({\n          requesting: true\n        });\n        await feedService.update(feed._id, {\n          type: feed.type,\n          text: feed.text,\n          status\n        });\n        status === 'active' ? message.success('Public successfully!') : message.success('Private successfully!');\n      } catch {\n        message.error('Something went wrong, please try again later');\n        this.setState({\n          requesting: false\n        });\n      }\n    });\n    _defineProperty(this, \"deleteVideo\", async () => {\n      const {\n        feed,\n        removeFeedSuccess: handleRemoveFeed,\n        removeTrendingFeedSuccess: handleRemoveTrendingFeed,\n        updateStatsView: handleUpdateStatsView\n      } = this.props;\n      if (!window.confirm('All earnings related to this post will be refunded. Are you sure to remove it?')) {\n        return;\n      }\n      try {\n        await feedService.delete(feed._id);\n        handleRemoveFeed({\n          feed\n        });\n        handleRemoveTrendingFeed({\n          feed\n        });\n        handleUpdateStatsView({\n          views: -feed.stats.views\n        });\n        message.success('Post deleted successfully');\n      } catch (e) {\n        const err = (await Promise.resolve(e)) || {};\n        message.error(err.message || 'An error occurred, please try again!');\n      }\n    });\n    _defineProperty(this, \"reportVideo\", async reason => {\n      const {\n        feed\n      } = this.props;\n      if (!reason || (reason === null || reason === void 0 ? void 0 : reason.length) < 20) {\n        message.error('Your report must be at least 20 characters');\n        return;\n      }\n      try {\n        await this.setState({\n          requesting: true\n        });\n        await reportService.create({\n          target: 'feed',\n          targetId: feed._id,\n          performerId: feed.fromSourceId,\n          description: reason\n        });\n        message.success('Thanks for reporting this content with us');\n        this.setState({\n          requesting: false,\n          openReportModal: false\n        });\n      } catch (e) {\n        const err = (await Promise.resolve(e)) || {};\n        message.error(err.message || 'An error occurred, please try again!');\n        this.setState({\n          requesting: false,\n          openReportModal: false\n        });\n      }\n    });\n    _defineProperty(this, \"copyLink\", async () => {\n      const {\n        feed\n      } = this.props;\n      const str = `${window.location.origin}/post/${(feed === null || feed === void 0 ? void 0 : feed.slug) || (feed === null || feed === void 0 ? void 0 : feed._id)}/?introducerId=${feed.fromSourceId}`;\n      const el = document.createElement('textarea');\n      el.value = str;\n      el.setAttribute('readonly', '');\n      el.style.position = 'absolute';\n      el.style.left = '-9999px';\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      message.success('Copied to clipboard');\n    });\n    _defineProperty(this, \"editVideo\", () => {\n      const {\n        feed\n      } = this.props;\n      Router.push({\n        pathname: '/model/my-post/edit',\n        query: {\n          id: feed._id\n        }\n      });\n    });\n  }\n  componentDidMount() {\n    var _this$videoRef;\n    const {\n      feed\n    } = this.props;\n    if (!((_this$videoRef = this.videoRef) !== null && _this$videoRef !== void 0 && _this$videoRef.current)) {\n      this.videoRef = /*#__PURE__*/createRef();\n    } else {\n      var _this$videoRef$curren;\n      this.wrapperRef = /*#__PURE__*/React.createRef();\n      document.addEventListener('click', e => this.handleClick(e));\n      (_this$videoRef$curren = this.videoRef.current) === null || _this$videoRef$curren === void 0 ? void 0 : _this$videoRef$curren.addEventListener('timeupdate', () => {\n        this.handleProgress();\n      });\n      if ((feed === null || feed === void 0 ? void 0 : feed.type) === 'video') {\n        const width = document.getElementById(`progressBar${feed._id}`).clientWidth || 0;\n        this.setState({\n          progressBarWidth: width\n        });\n        document.getElementById(`progressBar${feed._id}`).addEventListener('click', e => {\n          this.handleUpdateProgress(e);\n        });\n      }\n    }\n    if (feed) {\n      this.setState({\n        totalComment: feed.totalComment\n      });\n    }\n    this.mounted = true;\n  }\n  componentDidUpdate(prevProps, prevStates) {\n    var _this$videoRef2;\n    const {\n      feed,\n      commentMapping,\n      comment,\n      user\n    } = this.props;\n    const {\n      totalComment,\n      inView,\n      loop\n    } = this.state;\n    const {\n      type\n    } = feed;\n    if (!((_this$videoRef2 = this.videoRef) !== null && _this$videoRef2 !== void 0 && _this$videoRef2.current)) {\n      this.videoRef = /*#__PURE__*/createRef();\n    }\n    if (!prevProps.comment.data && comment.data && comment.data.objectId === feed._id || prevProps.commentMapping[feed._id] && totalComment !== commentMapping[feed._id].total) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        totalComment: commentMapping[feed._id].total\n      });\n    }\n    if (inView !== prevStates.inView) {\n      if (inView) {\n        type === 'video' && this.playVideo(feed._id);\n        if (loop < 5) {\n          type === 'photo' && feed.fromSourceId !== user._id && feedService.addView(feed._id);\n          this.setState({\n            loop: loop + 1\n          });\n        }\n      } else {\n        type === 'video' && this.pauseVideo();\n      }\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    const {\n      feed\n    } = this.props;\n    if (this.videoRef) {\n      var _this$videoRef$curren2;\n      (_this$videoRef$curren2 = this.videoRef.current) === null || _this$videoRef$curren2 === void 0 ? void 0 : _this$videoRef$curren2.removeEventListener('timeupdate', () => {\n        this.handleProgress();\n      });\n    }\n    if ((feed === null || feed === void 0 ? void 0 : feed.type) === 'video') {\n      document.getElementById(`progressBar${feed._id}`).removeEventListener('click', e => {\n        this.handleUpdateProgress(e);\n      });\n    }\n  }\n  async handleFilterComment(val) {\n    const {\n      feed,\n      getComments: handleGetComment\n    } = this.props;\n    const {\n      itemPerPage,\n      commentPage\n    } = this.state;\n    handleGetComment({\n      objectId: feed._id,\n      limit: itemPerPage,\n      offset: commentPage,\n      sortBy: val.key\n    });\n  }\n  handleProgress() {\n    var _this$videoRef3, _this$videoRef3$curre;\n    const {\n      isShowProgressBar\n    } = this.state;\n    if (this.videoRef.current) {\n      var _this$videoRef$curren3, _this$videoRef$curren4;\n      this.setState({\n        progress: ((_this$videoRef$curren3 = this.videoRef.current) === null || _this$videoRef$curren3 === void 0 ? void 0 : _this$videoRef$curren3.currentTime) / ((_this$videoRef$curren4 = this.videoRef.current) === null || _this$videoRef$curren4 === void 0 ? void 0 : _this$videoRef$curren4.duration) * 100\n      });\n    }\n    if ((_this$videoRef3 = this.videoRef) !== null && _this$videoRef3 !== void 0 && (_this$videoRef3$curre = _this$videoRef3.current) !== null && _this$videoRef3$curre !== void 0 && _this$videoRef3$curre.duration && !isShowProgressBar) {\n      this.setState({\n        isShowProgressBar: true\n      });\n    }\n  }\n  handleClick(event) {\n    var _this$wrapperRef, _this$wrapperRef$curr;\n    const {\n      target\n    } = event;\n    const {\n      visibleAction\n    } = this.state;\n    if (this.wrapperRef && !((_this$wrapperRef = this.wrapperRef) !== null && _this$wrapperRef !== void 0 && (_this$wrapperRef$curr = _this$wrapperRef.current) !== null && _this$wrapperRef$curr !== void 0 && _this$wrapperRef$curr.contains(target))) {\n      if (visibleAction) this.setState({\n        visibleAction: false\n      });\n    }\n  }\n  handleUpdateProgress(e) {\n    var _this$videoRef4;\n    if ((_this$videoRef4 = this.videoRef) !== null && _this$videoRef4 !== void 0 && _this$videoRef4.current) {\n      var _this$videoRef$curren5;\n      const {\n        progressBarWidth\n      } = this.state;\n      const precent = e.offsetX / progressBarWidth * 100;\n      this.videoRef.current.currentTime = precent * ((_this$videoRef$curren5 = this.videoRef.current) === null || _this$videoRef$curren5 === void 0 ? void 0 : _this$videoRef$curren5.duration) / 100;\n      this.setState({\n        progress: e.offsetX / progressBarWidth * 100\n      });\n    }\n  }\n  async onFinishComment(comment) {\n    const {\n      createComment: handleCreateComment,\n      user\n    } = this.props;\n    if (!user.verifiedEmail) {\n      return this.setState({\n        openVerifiedEmailModal: true\n      });\n    }\n    return handleCreateComment(comment);\n  }\n  onShare(url) {\n    const {\n      setMetaThumbnail: handleMetaThubnails\n    } = this.props;\n    handleMetaThubnails(url);\n  }\n  async moreComment() {\n    const {\n      feed,\n      moreComment: handleLoadMore\n    } = this.props;\n    const {\n      commentPage,\n      itemPerPage\n    } = this.state;\n    this.setState({\n      commentPage: commentPage + 1\n    });\n    handleLoadMore({\n      limit: itemPerPage,\n      offset: (commentPage + 1) * itemPerPage,\n      objectId: feed === null || feed === void 0 ? void 0 : feed._id\n    });\n  }\n  async deleteComment(item) {\n    const {\n      deleteComment: handleDelete\n    } = this.props;\n    if (!window.confirm('Are you sure to remove this comment?')) return;\n    handleDelete(item._id);\n  }\n  async playVideo(feedId) {\n    const {\n      feed,\n      user,\n      loggedIn\n    } = this.props;\n    const {\n      inView,\n      loop\n    } = this.state;\n    if (loop > 50) {\n      return false;\n    }\n    if (inView && this.mounted) {\n      var _this$videoRef$curren6;\n      (_this$videoRef$curren6 = this.videoRef.current) === null || _this$videoRef$curren6 === void 0 ? void 0 : _this$videoRef$curren6.play();\n      this.setState({\n        isPlaying: true\n      });\n      feed.fromSourceId !== user._id && loggedIn && (await feedService.addView(feedId));\n      this.setState({\n        loop: loop + 1\n      });\n    }\n    return true;\n  }\n  pauseVideo() {\n    if (this.videoRef.current.play) {\n      this.videoRef.current.pause();\n      this.setState({\n        isPlaying: false\n      });\n    }\n  }\n  async toggleMuteVideo() {\n    if (this.videoRef.current) {\n      const {\n        muted\n      } = this.videoRef.current;\n      this.videoRef.current.muted = !muted;\n      this.setState({\n        isMute: !muted\n      });\n    }\n  }\n  async toggleFullScreen() {\n    this.videoRef.current.requestFullscreen();\n  }\n  showComment() {\n    this.setState({\n      commentPage: 0\n    });\n    const {\n      showComment,\n      itemPerPage\n    } = this.state;\n    const {\n      feed,\n      getComments: dispatchgetComments\n    } = this.props;\n    this.setState({\n      showComment: !showComment\n    }, () => {\n      // eslint-disable-next-line no-shadow\n      const {\n        showComment\n      } = this.state;\n      if (showComment) {\n        dispatchgetComments({\n          objectId: feed._id,\n          objectType: 'feed',\n          limit: itemPerPage,\n          offset: 0\n        });\n      }\n    });\n  }\n  pad(time) {\n    return time < 10 ? `0${time.toString()}` || '00' : time.toString() || '00';\n  }\n  render() {\n    var _this$videoRef5, _feed$files$, _feed$thumbnail, _files$, _files$2, _performer$name, _performer$username, _this$videoRef6, _this$videoRef$curren7, _this$videoRef$curren8, _this$videoRef$curren9, _this$videoRef$curren10;\n    const {\n      siteName,\n      user,\n      feed,\n      commentMapping,\n      currentPage,\n      loggedIn,\n      onDelete,\n      isHashtags\n    } = this.props;\n    const [hashtag1, hashtag2, hashtag3] = feed.text.split(\" \");\n    const {\n      visibleAction,\n      showComment,\n      openReportModal,\n      requesting,\n      status,\n      totalComment,\n      isPlaying,\n      isShowProgressBar,\n      progress,\n      isMute,\n      itemPerPage,\n      commentPage,\n      openVerifiedEmailModal\n    } = this.state;\n    if (!((_this$videoRef5 = this.videoRef) !== null && _this$videoRef5 !== void 0 && _this$videoRef5.current)) {\n      this.videoRef = /*#__PURE__*/createRef();\n    }\n    const {\n      performer,\n      files,\n      type,\n      crossPromotion\n    } = feed;\n    const thumbUrl = ((feed === null || feed === void 0 ? void 0 : feed.type) === 'photo' ? feed.files && feed.files[0] && ((_feed$files$ = feed.files[0]) === null || _feed$files$ === void 0 ? void 0 : _feed$files$.url) : (feed === null || feed === void 0 ? void 0 : (_feed$thumbnail = feed.thumbnail) === null || _feed$thumbnail === void 0 ? void 0 : _feed$thumbnail.url) || feed.files && feed.files[0] && feed.files[0].thumbnails && feed.files[0].thumbnails[0]) || '/static/leaf.jpg';\n    const userMenu = __jsx(Menu, {\n      onClick: this.handleFilterComment.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 7\n      }\n    }, __jsx(Menu.Item, {\n      key: \"like\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }\n    }, \"Top Comment\"), __jsx(Menu.Item, {\n      key: \"mostRecent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }\n    }, \"Most Recent\"));\n    // eslint-disable-next-line no-prototype-builtins\n    const comments = commentMapping.hasOwnProperty(feed._id) ? commentMapping[feed._id].items : [];\n    const linkifyOptions = {\n      formatHref(href, category) {\n        if (category === 'hashtag') {\n          // eslint-disable-next-line no-param-reassign\n          href = `/search?hashtag=${href.substring(1)}&tab=${type}&id=${feed._id}`;\n        }\n        return href;\n      }\n    };\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"w-full\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"flex justify-center items-stretch relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: 'relative',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 13\n      }\n    }, type === 'video' && __jsx(InView, {\n      threshold: 0.8,\n      onChange: inView => this.setState({\n        inView\n      }),\n      className: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 17\n      }\n    }, __jsx(\"video\", {\n      style: {\n        width: '345px',\n        aspectRatio: '4 / 6',\n        objectFit: 'cover'\n      },\n      className: \"rounded-lg max-w-full\",\n      onContextMenu: event => {\n        event.preventDefault();\n      },\n      playsInline: true,\n      controlsList: \"nodownload\",\n      autoPlay: false,\n      src: (files === null || files === void 0 ? void 0 : files.length) > 0 && ((_files$ = files[0]) === null || _files$ === void 0 ? void 0 : _files$.url) || './static/background.gif',\n      ref: this.videoRef,\n      onEnded: () => this.playVideo(feed._id),\n      disablePictureInPicture: true,\n      onClick: () => {\n        isPlaying ? this.pauseVideo() : this.playVideo(feed._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 19\n      }\n    })), type === 'photo' && __jsx(InView, {\n      threshold: 1,\n      onChange: inView => this.setState({\n        inView\n      }),\n      className: \"rounded-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 17\n      }\n    }, __jsx(Image, {\n      onContextMenu: event => {\n        event.preventDefault();\n      },\n      src: (files === null || files === void 0 ? void 0 : files.length) > 0 && ((_files$2 = files[0]) === null || _files$2 === void 0 ? void 0 : _files$2.url) || './static/background.gif',\n      alt: \"\",\n      className: \"max-w-full rounded-lg\",\n      style: {\n        width: '345px',\n        aspectRatio: '1/1',\n        objectFit: 'cover'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 19\n      }\n    })), __jsx(\"div\", {\n      className: \"absolute top-2 left-2\",\n      ref: this.wrapperRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 15\n      }\n    }, __jsx(MoreOutlined, {\n      className: \"text-white text-lg\",\n      onClick: () => this.setState({\n        visibleAction: !visibleAction\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 17\n      }\n    }), visibleAction && __jsx(\"div\", {\n      className: \"render-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 19\n      }\n    }, loggedIn && __jsx(Button, {\n      onClick: () => this.setState({\n        openReportModal: !openReportModal\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 23\n      }\n    }, __jsx(FlagOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 25\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 25\n      }\n    }, \"Report\")), performer._id === user._id && __jsx(React.Fragment, null, __jsx(Button, {\n      onClick: () => {\n        this.setState({\n          status: status === 'active' ? 'inactive' : 'active'\n        }, () => this.privateVideo());\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 25\n      }\n    }, status === 'active' ? __jsx(UnlockOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 50\n      }\n    }) : __jsx(LockOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 71\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 27\n      }\n    }, status === 'active' ? 'Public' : 'Private')), __jsx(Button, {\n      onClick: () => this.editVideo(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 25\n      }\n    }, __jsx(EditOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 27\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 27\n      }\n    }, \"Edit\")), __jsx(Button, {\n      onClick: () => {\n        onDelete ? onDelete(feed) : this.deleteVideo();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 25\n      }\n    }, __jsx(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 27\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 27\n      }\n    }, \"Delete\"))), __jsx(Popover, {\n      title: \"Share to social network\",\n      content: __jsx(ShareButtons, {\n        performer: performer,\n        siteName: siteName,\n        post: feed,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 32\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 21\n      }\n    }, __jsx(Button, {\n      className: \"normal\",\n      onMouseEnter: () => this.onShare(thumbUrl),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 23\n      }\n    }, __jsx(ShareIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 25\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 25\n      }\n    }, \"Share\"))))), __jsx(\"div\", {\n      className: \"absolute w-full bottom-1 left-0 right-0 p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 15\n      }\n    }, currentPage !== 'recast' && __jsx(\"div\", {\n      className: \"text-white pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 17\n      }\n    }, __jsx(Linkify, {\n      options: linkifyOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 19\n      }\n    }, `${feed.text} `)), __jsx(\"div\", {\n      className: \"flex items-start justify-between gap-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }\n    }, __jsx(Link, {\n      href: `/${performer === null || performer === void 0 ? void 0 : performer.username}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"flex items-start justify-start gap-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 21\n      }\n    }, __jsx(\"img\", {\n      className: \"h-12 w-12 rounded-full\",\n      src: (performer === null || performer === void 0 ? void 0 : performer.avatar) || './static/no-avatar.png',\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 23\n      }\n    }), __jsx(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 23\n      }\n    }, __jsx(\"p\", {\n      className: \"text-white font-semibold pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 25\n      }\n    }, (performer === null || performer === void 0 ? void 0 : (_performer$name = performer.name) === null || _performer$name === void 0 ? void 0 : _performer$name.substring(0, 14)) || (performer === null || performer === void 0 ? void 0 : (_performer$username = performer.username) === null || _performer$username === void 0 ? void 0 : _performer$username.substring(0, 14))), __jsx(\"p\", {\n      className: \"text-white flex items-end justify-start gap-1 text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 25\n      }\n    }, __jsx(ProfileIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 27\n      }\n    }), `${(performer === null || performer === void 0 ? void 0 : performer.stats.totalFollower) || '0'} Fans`), __jsx(\"p\", {\n      className: \"text-white text-xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 25\n      }\n    }, __jsx(\"span\", {\n      className: \"text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 27\n      }\n    }, formatDateFromnow(feed === null || feed === void 0 ? void 0 : feed.createdAt)), __jsx(\"span\", {\n      className: \"px-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 27\n      }\n    }, \"\\u2022\"), __jsx(\"span\", {\n      className: \"text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 27\n      }\n    }, \"Views\", ' ', currentPage === 'post' ? feed.stats.views : shortenLargeNumber(feed.stats.views)))))), __jsx(\"div\", {\n      className: \"flex flex-col \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 19\n      }\n    }, __jsx(ButtonFollow, {\n      performer: performer,\n      isHideOnClick: true,\n      targetId: performer === null || performer === void 0 ? void 0 : performer._id,\n      sourceId: user === null || user === void 0 ? void 0 : user._id,\n      isFollow: performer === null || performer === void 0 ? void 0 : performer.isFollowed,\n      getPerformerList: () => {},\n      title: \"Follow\",\n      isTrending: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 21\n      }\n    }), __jsx(\"div\", {\n      id: `progressBar${feed._id}`,\n      className: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 21\n      }\n    }, ((_this$videoRef6 = this.videoRef) === null || _this$videoRef6 === void 0 ? void 0 : _this$videoRef6.current) && isShowProgressBar && __jsx(\"div\", {\n      className: \"text-right pt-1 text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 25\n      }\n    }, __jsx(\"span\", {\n      id: \"current\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 27\n      }\n    }, `${Math.floor(((_this$videoRef$curren7 = this.videoRef.current) === null || _this$videoRef$curren7 === void 0 ? void 0 : _this$videoRef$curren7.currentTime) / 60) || '0'}:${this.pad(Math.floor(((_this$videoRef$curren8 = this.videoRef.current) === null || _this$videoRef$curren8 === void 0 ? void 0 : _this$videoRef$curren8.currentTime) % 60))} `), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 27\n      }\n    }, \" \"), __jsx(\"span\", {\n      id: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 27\n      }\n    }, ` ${Math.floor(((_this$videoRef$curren9 = this.videoRef.current) === null || _this$videoRef$curren9 === void 0 ? void 0 : _this$videoRef$curren9.duration) / 60) || '0'}:${this.pad(Math.floor(((_this$videoRef$curren10 = this.videoRef.current) === null || _this$videoRef$curren10 === void 0 ? void 0 : _this$videoRef$curren10.duration) % 60))} `)))))), __jsx(ContentSidebarLayout, {\n      currentPage: currentPage,\n      totalComments: totalComment,\n      performer: performer,\n      feed: feed,\n      openCommentModal: () => {\n        this.showComment();\n      },\n      showCommentModel: showComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 15\n      }\n    }), __jsx(ContentLeftbarLayout, {\n      currentPage: currentPage,\n      performer: performer,\n      crossPromotion: crossPromotion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 15\n      }\n    })))), isHashtags ? __jsx(\"div\", {\n      className: \"flex items-center justify-between gap-4 py-4 pt-8 max-w-[450px] m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }\n    }, __jsx(\"a\", {\n      href: `/hashtag?keyword=${hashtag1 === null || hashtag1 === void 0 ? void 0 : hashtag1.trim()}&type=${feed.type}`,\n      className: \"text-xl font-semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 13\n      }\n    }, hashtag1), __jsx(\"a\", {\n      href: `/hashtag?keyword=${hashtag2 === null || hashtag2 === void 0 ? void 0 : hashtag2.trim()}&type=${feed.type}`,\n      className: \"text-xl font-semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 13\n      }\n    }, hashtag2), __jsx(\"a\", {\n      href: `/hashtag?keyword=${hashtag3 === null || hashtag3 === void 0 ? void 0 : hashtag3.trim()}&type=${feed.type}`,\n      className: \"text-xl font-semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 13\n      }\n    }, hashtag3)) : null, __jsx(Divider, {\n      className: `${isHashtags ? 'mb-10' : 'my-16'} mx-auto`,\n      style: {\n        maxWidth: '345px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }\n    }), __jsx(Modal, {\n      key: \"comment_post\",\n      className: \"subscription-modal\",\n      title: null,\n      visible: showComment,\n      footer: null,\n      destroyOnClose: true,\n      onCancel: () => this.setState({\n        showComment: false,\n        commentPage: 0\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"descriptions-and-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"select-category-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      className: \"total-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 15\n      }\n    }, \"Comments (\", totalComment, \")\", ' '), __jsx(\"div\", {\n      className: \"filter-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 15\n      }\n    }, __jsx(Dropdown.Button, {\n      className: \"dropdown-btn\",\n      overlay: userMenu,\n      icon: __jsx(AlignRightOutlined, {\n        rotate: 180,\n        style: {\n          fontSize: '28px',\n          border: 'none'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 17\n      }\n    }))), __jsx(\"div\", {\n      className: showComment ? 'show' : 'hide',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"all-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 15\n      }\n    }, __jsx(CommentForm, {\n      creator: user,\n      onSubmit: this.onFinishComment.bind(this),\n      objectId: feed._id,\n      objectType: \"feed\",\n      siteName: siteName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 17\n      }\n    }), __jsx(ListComments, {\n      key: `list_comments_${feed._id}_${comments === null || comments === void 0 ? void 0 : comments.length}`\n      // eslint-disable-next-line no-prototype-builtins\n      ,\n      requesting: commentMapping.hasOwnProperty(feed._id) ? commentMapping[feed._id].requesting : false,\n      comments: comments,\n      feedOwnerId: feed.fromSourceId,\n      loadMore: this.moreComment.bind(this),\n      onDelete: this.deleteComment.bind(this),\n      user: user,\n      canLoadmore: commentMapping[feed._id] && (commentPage + 1) * itemPerPage < commentMapping[feed._id].total,\n      canReply: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 17\n      }\n    }))))), __jsx(Modal, {\n      key: \"report_post\",\n      className: \"subscription-modal\",\n      title: null,\n      visible: openReportModal,\n      footer: null,\n      destroyOnClose: true,\n      onCancel: () => this.setState({\n        openReportModal: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 9\n      }\n    }, __jsx(ReportForm, {\n      objectType: feed.type,\n      performer: performer,\n      submiting: requesting,\n      onFinish: this.reportVideo.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 11\n      }\n    })), __jsx(Modal, {\n      key: \"verified_email\",\n      className: \"subscription-modal\",\n      title: \"Please verify your email address\",\n      visible: openVerifiedEmailModal,\n      footer: null,\n      destroyOnClose: true,\n      onCancel: () => this.setState({\n        openVerifiedEmailModal: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 9\n      }\n    }, __jsx(VerifiedEmailForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 11\n      }\n    })));\n  }\n}\nconst mapStates = state => {\n  const {\n    commentMapping,\n    comment\n  } = state.comment;\n  return {\n    comment,\n    commentMapping,\n    siteName: state.ui.siteName,\n    user: state.user.current,\n    loggedIn: state.auth.loggedIn,\n    ui: _objectSpread({}, state.ui)\n  };\n};\nconst mapDispatch = {\n  getComments,\n  moreComment,\n  createComment,\n  deleteComment,\n  removeFeedSuccess,\n  updateStatsView,\n  removeTrendingFeedSuccess,\n  setMetaThumbnail\n};\nexport default connect(mapStates, mapDispatch)(FeedVideo);","map":{"version":3,"names":["React","createRef","PureComponent","feedService","MoreOutlined","UnlockOutlined","DeleteOutlined","FlagOutlined","EditOutlined","LockOutlined","AlignRightOutlined","Menu","Dropdown","Button","Popover","message","Modal","Image","Divider","connect","getComments","moreComment","createComment","deleteComment","ShareIcon","ProfileIcon","formatDateFromnow","shortenLargeNumber","Linkify","linkify","hashtag","InView","Router","reportService","removeFeedSuccess","removeTrendingFeedSuccess","setMetaThumbnail","updateStatsView","Link","ButtonFollow","ContentSidebarLayout","ContentLeftbarLayout","ShareButtons","dynamic","VerifiedEmailForm","ssr","loadableGenerated","webpack","require","resolveWeak","modules","ListComments","CommentForm","ReportForm","FeedVideo","constructor","args","_this$props","_this$props$feed","_defineProperty","visibleAction","itemPerPage","commentPage","totalComment","showComment","inView","openReportModal","requesting","status","props","feed","isPlaying","isShowProgressBar","progress","progressBarWidth","isMute","openVerifiedEmailModal","loop","state","setState","update","_id","type","text","success","error","handleRemoveFeed","handleRemoveTrendingFeed","handleUpdateStatsView","window","confirm","delete","views","stats","e","err","Promise","resolve","reason","length","create","target","targetId","performerId","fromSourceId","description","str","location","origin","slug","el","document","createElement","value","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","push","pathname","query","id","componentDidMount","_this$videoRef","videoRef","current","_this$videoRef$curren","wrapperRef","addEventListener","handleClick","handleProgress","width","getElementById","clientWidth","handleUpdateProgress","mounted","componentDidUpdate","prevProps","prevStates","_this$videoRef2","commentMapping","comment","user","data","objectId","total","playVideo","addView","pauseVideo","componentWillUnmount","_this$videoRef$curren2","removeEventListener","handleFilterComment","val","handleGetComment","limit","offset","sortBy","key","_this$videoRef3","_this$videoRef3$curre","_this$videoRef$curren3","_this$videoRef$curren4","currentTime","duration","event","_this$wrapperRef","_this$wrapperRef$curr","contains","_this$videoRef4","_this$videoRef$curren5","precent","offsetX","onFinishComment","handleCreateComment","verifiedEmail","onShare","url","handleMetaThubnails","handleLoadMore","item","handleDelete","feedId","loggedIn","_this$videoRef$curren6","play","pause","toggleMuteVideo","muted","toggleFullScreen","requestFullscreen","dispatchgetComments","objectType","pad","time","toString","render","_this$videoRef5","_feed$files$","_feed$thumbnail","_files$","_files$2","_performer$name","_performer$username","_this$videoRef6","_this$videoRef$curren7","_this$videoRef$curren8","_this$videoRef$curren9","_this$videoRef$curren10","siteName","currentPage","onDelete","isHashtags","hashtag1","hashtag2","hashtag3","split","performer","files","crossPromotion","thumbUrl","thumbnail","thumbnails","userMenu","__jsx","onClick","bind","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Item","comments","hasOwnProperty","items","linkifyOptions","formatHref","href","category","substring","Fragment","className","threshold","onChange","aspectRatio","objectFit","onContextMenu","preventDefault","playsInline","controlsList","autoPlay","src","ref","onEnded","disablePictureInPicture","alt","privateVideo","editVideo","deleteVideo","title","content","post","onMouseEnter","options","username","avatar","name","totalFollower","createdAt","isHideOnClick","sourceId","isFollow","isFollowed","getPerformerList","isTrending","Math","floor","totalComments","openCommentModal","showCommentModel","trim","maxWidth","visible","footer","destroyOnClose","onCancel","overlay","icon","rotate","fontSize","border","creator","onSubmit","feedOwnerId","loadMore","canLoadmore","canReply","submiting","onFinish","reportVideo","mapStates","ui","auth","_objectSpread","mapDispatch"],"sources":["C:/Users/roman/Pictures/Case/row/src/components/performer/feed-video.tsx"],"sourcesContent":["import React, { createRef, PureComponent } from 'react';\r\nimport { IFeed, IPerformer } from 'src/interfaces';\r\nimport { feedService } from '@services/feed.service';\r\nimport {\r\n  MoreOutlined,\r\n  UnlockOutlined,\r\n  DeleteOutlined,\r\n  FlagOutlined,\r\n  EditOutlined,\r\n  LockOutlined,\r\n  AlignRightOutlined,\r\n  CaretRightOutlined,\r\n  FullscreenOutlined,\r\n  SoundOutlined,\r\n  PauseOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Progress, Menu, Dropdown, Button, Popover, message, Modal, Image,\r\n  Divider\r\n} from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getComments, moreComment, createComment, deleteComment\r\n} from '@redux/comment/actions';\r\nimport { ShareIcon, MuteIcon, UserIcon, ProfileIcon } from 'src/icons';\r\nimport { formatDateFromnow, shortenLargeNumber } from 'src/lib';\r\nimport Linkify from 'linkifyjs/react';\r\nimport * as linkify from 'linkifyjs';\r\nimport hashtag from 'linkifyjs/plugins/hashtag';\r\nimport './feed-video.less';\r\nimport { InView } from 'react-intersection-observer';\r\nimport Router, { useRouter } from 'next/router';\r\nimport { reportService } from '@services/index';\r\nimport {\r\n  removeFeedSuccess, removeTrendingFeedSuccess, setMetaThumbnail\r\n} from '@redux/feed/actions';\r\nimport {\r\n  updateStatsView\r\n} from '@redux/user/actions';\r\n\r\nimport Link from 'next/link';\r\nimport ButtonFollow from '@components/common/buttonFollow';\r\nimport ContentSidebarLayout from '@components/common/layout/content-sidebar-layout';\r\nimport ContentLeftbarLayout from '@components/common/layout/content-leftbar-layout';\r\nimport ShareButtons from '@components/performer/share-post';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst VerifiedEmailForm = dynamic(() => import('@components/performer/verified-email-form'), { ssr: false });\r\nconst ListComments = dynamic(() => import('@components/comment/list-comments'), { ssr: false });\r\nconst CommentForm = dynamic(() => import('@components/comment/comment-form'), { ssr: false });\r\nconst ReportForm = dynamic(() => import('@components/report/report-form'), { ssr: false });\r\n\r\nhashtag(linkify);\r\n\r\ninterface IProps {\r\n  feed: IFeed;\r\n  user: IPerformer;\r\n  siteName: string;\r\n  getComments: Function;\r\n  moreComment: Function;\r\n  createComment: Function;\r\n  deleteComment: Function;\r\n  removeFeedSuccess: Function;\r\n  removeTrendingFeedSuccess:Function;\r\n  updateStatsView:Function;\r\n  commentMapping: any;\r\n  comment: any;\r\n  currentPage: string;\r\n  loggedIn: boolean;\r\n  // eslint-disable-next-line react/require-default-props\r\n  onDelete? : Function;\r\n  // eslint-disable-next-line react/require-default-props\r\n  setMetaThumbnail? : Function;\r\n  isHashtags?: boolean\r\n}\r\n\r\nclass FeedVideo extends PureComponent<IProps> {\r\n  state = {\r\n    visibleAction: false,\r\n    itemPerPage: 12,\r\n    commentPage: 0,\r\n    totalComment: 0,\r\n    showComment: false,\r\n    inView: false,\r\n    openReportModal: false,\r\n    requesting: false,\r\n    // eslint-disable-next-line react/destructuring-assignment\r\n    status: this.props?.feed?.status,\r\n    isPlaying: false,\r\n    isShowProgressBar: false,\r\n    progress: 0,\r\n    progressBarWidth: 0,\r\n    isMute: false,\r\n    openVerifiedEmailModal: false,\r\n    loop: 0\r\n  };\r\n\r\n  videoRef: any;\r\n\r\n  wrapperRef: any;\r\n\r\n  mounted: boolean = false;\r\n\r\n  componentDidMount() {\r\n    const { feed } = this.props;\r\n    if (!this.videoRef?.current) {\r\n      this.videoRef = createRef();\r\n    } else {\r\n      this.wrapperRef = React.createRef();\r\n      document.addEventListener('click', (e) => this.handleClick(e));\r\n      this.videoRef.current?.addEventListener('timeupdate', () => {\r\n        this.handleProgress();\r\n      });\r\n      if (feed?.type === 'video') {\r\n        const width = document.getElementById(`progressBar${feed._id}`).clientWidth || 0;\r\n        this.setState({ progressBarWidth: width });\r\n        document.getElementById(`progressBar${feed._id}`).addEventListener('click', (e) => {\r\n          this.handleUpdateProgress(e);\r\n        });\r\n      }\r\n    }\r\n    if (feed) {\r\n      this.setState({\r\n        totalComment: feed.totalComment\r\n      });\r\n    }\r\n    this.mounted = true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevStates) {\r\n    const {\r\n      feed, commentMapping, comment, user\r\n    } = this.props;\r\n    const { totalComment, inView, loop } = this.state;\r\n    const { type } = feed;\r\n    if (!this.videoRef?.current) {\r\n      this.videoRef = createRef();\r\n    }\r\n\r\n    if (\r\n      (!prevProps.comment.data && comment.data && comment.data.objectId === feed._id)\r\n      || (prevProps.commentMapping[feed._id] && totalComment !== commentMapping[feed._id].total)\r\n    ) {\r\n      // eslint-disable-next-line react/no-did-update-set-state\r\n      this.setState({ totalComment: commentMapping[feed._id].total });\r\n    }\r\n    if (inView !== prevStates.inView) {\r\n      if (inView) {\r\n        type === 'video' && this.playVideo(feed._id);\r\n        if (loop < 5) {\r\n          type === 'photo' && feed.fromSourceId !== user._id && feedService.addView(feed._id);\r\n          this.setState({ loop: loop + 1 });\r\n        }\r\n      } else {\r\n        type === 'video' && this.pauseVideo();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n    const { feed } = this.props;\r\n    if (this.videoRef) {\r\n      this.videoRef.current?.removeEventListener('timeupdate', () => {\r\n        this.handleProgress();\r\n      });\r\n    }\r\n    if (feed?.type === 'video') {\r\n      document.getElementById(`progressBar${feed._id}`).removeEventListener('click', (e) => {\r\n        this.handleUpdateProgress(e);\r\n      });\r\n    }\r\n  }\r\n\r\n  async handleFilterComment(val) {\r\n    const { feed, getComments: handleGetComment } = this.props;\r\n    const { itemPerPage, commentPage } = this.state;\r\n    handleGetComment({\r\n      objectId: feed._id,\r\n      limit: itemPerPage,\r\n      offset: commentPage,\r\n      sortBy: val.key\r\n    });\r\n  }\r\n\r\n  handleProgress() {\r\n    const { isShowProgressBar } = this.state;\r\n    if (this.videoRef.current) {\r\n      this.setState({ progress: (this.videoRef.current?.currentTime / this.videoRef.current?.duration) * 100 });\r\n    }\r\n    if (this.videoRef?.current?.duration && !isShowProgressBar) {\r\n      this.setState({ isShowProgressBar: true });\r\n    }\r\n  }\r\n\r\n  handleClick(event) {\r\n    const { target } = event;\r\n    const { visibleAction } = this.state;\r\n    if (this.wrapperRef && !this.wrapperRef?.current?.contains(target)) {\r\n      if (visibleAction) this.setState({ visibleAction: false });\r\n    }\r\n  }\r\n\r\n  handleUpdateProgress(e) {\r\n    if (this.videoRef?.current) {\r\n      const { progressBarWidth } = this.state;\r\n      const precent = (e.offsetX / progressBarWidth) * 100;\r\n      this.videoRef.current.currentTime = (precent * this.videoRef.current?.duration) / 100;\r\n      this.setState({ progress: (e.offsetX / progressBarWidth) * 100 });\r\n    }\r\n  }\r\n\r\n  async onFinishComment(comment: Comment) {\r\n    const { createComment: handleCreateComment, user } = this.props;\r\n    if (!user.verifiedEmail) {\r\n      return this.setState({ openVerifiedEmailModal: true });\r\n    }\r\n    return handleCreateComment(comment);\r\n  }\r\n\r\n  onShare(url) {\r\n    const { setMetaThumbnail: handleMetaThubnails } = this.props;\r\n    handleMetaThubnails(url);\r\n  }\r\n\r\n  privateVideo = async () => {\r\n    const { feed } = this.props;\r\n    const { status } = this.state;\r\n\r\n    try {\r\n      await this.setState({ requesting: true });\r\n      await feedService.update(feed._id, {\r\n        type: feed.type,\r\n        text: feed.text,\r\n        status\r\n      });\r\n      status === 'active' ? message.success('Public successfully!') : message.success('Private successfully!');\r\n    } catch {\r\n      message.error('Something went wrong, please try again later');\r\n      this.setState({ requesting: false });\r\n    }\r\n  };\r\n\r\n  deleteVideo = async () => {\r\n    const {\r\n      feed, removeFeedSuccess: handleRemoveFeed, removeTrendingFeedSuccess: handleRemoveTrendingFeed, updateStatsView: handleUpdateStatsView\r\n    } = this.props;\r\n    if (!window.confirm('All earnings related to this post will be refunded. Are you sure to remove it?')) {\r\n      return;\r\n    }\r\n    try {\r\n      await feedService.delete(feed._id);\r\n      handleRemoveFeed({ feed });\r\n      handleRemoveTrendingFeed({ feed });\r\n      handleUpdateStatsView({ views: -feed.stats.views });\r\n      message.success('Post deleted successfully');\r\n    } catch (e) {\r\n      const err = (await Promise.resolve(e)) || {};\r\n      message.error(err.message || 'An error occurred, please try again!');\r\n    }\r\n  };\r\n\r\n  reportVideo = async (reason) => {\r\n    const { feed } = this.props;\r\n    if (!reason || reason?.length < 20) {\r\n      message.error('Your report must be at least 20 characters');\r\n      return;\r\n    }\r\n    try {\r\n      await this.setState({ requesting: true });\r\n      await reportService.create({\r\n        target: 'feed',\r\n        targetId: feed._id,\r\n        performerId: feed.fromSourceId,\r\n        description: reason\r\n      });\r\n      message.success('Thanks for reporting this content with us');\r\n      this.setState({ requesting: false, openReportModal: false });\r\n    } catch (e) {\r\n      const err = (await Promise.resolve(e)) || {};\r\n      message.error(err.message || 'An error occurred, please try again!');\r\n      this.setState({ requesting: false, openReportModal: false });\r\n    }\r\n  };\r\n\r\n  copyLink = async () => {\r\n    const { feed } = this.props;\r\n    const str = `${window.location.origin}/post/${feed?.slug || feed?._id}/?introducerId=${feed.fromSourceId}`;\r\n    const el = document.createElement('textarea');\r\n    el.value = str;\r\n    el.setAttribute('readonly', '');\r\n    el.style.position = 'absolute';\r\n    el.style.left = '-9999px';\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(el);\r\n    message.success('Copied to clipboard');\r\n  };\r\n\r\n  editVideo = () => {\r\n    const { feed } = this.props;\r\n    Router.push({ pathname: '/model/my-post/edit', query: { id: feed._id } });\r\n  };\r\n\r\n  async moreComment() {\r\n    const { feed, moreComment: handleLoadMore } = this.props;\r\n    const { commentPage, itemPerPage } = this.state;\r\n    this.setState({\r\n      commentPage: commentPage + 1\r\n    });\r\n    handleLoadMore({\r\n      limit: itemPerPage,\r\n      offset: (commentPage + 1) * itemPerPage,\r\n      objectId: feed?._id\r\n    });\r\n  }\r\n\r\n  async deleteComment(item) {\r\n    const { deleteComment: handleDelete } = this.props;\r\n    if (!window.confirm('Are you sure to remove this comment?')) return;\r\n    handleDelete(item._id);\r\n  }\r\n\r\n  async playVideo(feedId: string) {\r\n    const { feed, user, loggedIn } = this.props;\r\n    const { inView, loop } = this.state;\r\n    if (loop > 50) {\r\n      return false;\r\n    }\r\n    if (inView && this.mounted) {\r\n      this.videoRef.current?.play();\r\n      this.setState({ isPlaying: true });\r\n      feed.fromSourceId !== user._id && loggedIn && (await feedService.addView(feedId));\r\n      this.setState({ loop: loop + 1 });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  pauseVideo() {\r\n    if (this.videoRef.current.play) {\r\n      this.videoRef.current.pause();\r\n      this.setState({ isPlaying: false });\r\n    }\r\n  }\r\n\r\n  async toggleMuteVideo() {\r\n    if (this.videoRef.current) {\r\n      const { muted } = this.videoRef.current;\r\n      this.videoRef.current.muted = !muted;\r\n      this.setState({ isMute: !muted });\r\n    }\r\n  }\r\n\r\n  async toggleFullScreen() {\r\n    this.videoRef.current.requestFullscreen();\r\n  }\r\n\r\n  showComment() {\r\n    this.setState({ commentPage: 0 });\r\n    const { showComment, itemPerPage } = this.state;\r\n    const { feed, getComments: dispatchgetComments } = this.props;\r\n    this.setState({ showComment: !showComment }, () => {\r\n      // eslint-disable-next-line no-shadow\r\n      const { showComment } = this.state;\r\n      if (showComment) {\r\n        dispatchgetComments({\r\n          objectId: feed._id,\r\n          objectType: 'feed',\r\n          limit: itemPerPage,\r\n          offset: 0\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  pad(time) {\r\n    return time < 10 ? `0${time.toString()}` || '00' : time.toString() || '00';\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      siteName,\r\n      user,\r\n      feed,\r\n      commentMapping,\r\n      currentPage,\r\n      loggedIn,\r\n      onDelete,\r\n      isHashtags\r\n    } = this.props;\r\n\r\n    const [hashtag1, hashtag2, hashtag3] = feed.text.split(\" \")\r\n\r\n    const {\r\n      visibleAction,\r\n      showComment,\r\n      openReportModal,\r\n      requesting,\r\n      status,\r\n      totalComment,\r\n      isPlaying,\r\n      isShowProgressBar,\r\n      progress,\r\n      isMute,\r\n      itemPerPage,\r\n      commentPage,\r\n      openVerifiedEmailModal\r\n    } = this.state;\r\n    if (!this.videoRef?.current) {\r\n      this.videoRef = createRef();\r\n    }\r\n    const {\r\n      performer, files, type, crossPromotion\r\n    } = feed;\r\n\r\n    const thumbUrl = (feed?.type === 'photo' ? (feed.files\r\n      && feed.files[0]\r\n      && feed.files[0]?.url)\r\n      : (feed?.thumbnail?.url)\r\n          || (feed.files\r\n            && feed.files[0] && ((feed.files[0].thumbnails && feed.files[0].thumbnails[0])\r\n          ))) || '/static/leaf.jpg';\r\n\r\n    const userMenu = (\r\n      <Menu onClick={this.handleFilterComment.bind(this)}>\r\n        <Menu.Item key=\"like\">Top Comment</Menu.Item>\r\n        <Menu.Item key=\"mostRecent\">Most Recent</Menu.Item>\r\n      </Menu>\r\n    );\r\n    // eslint-disable-next-line no-prototype-builtins\r\n    const comments = commentMapping.hasOwnProperty(feed._id) ? commentMapping[feed._id].items : [];\r\n    const linkifyOptions = {\r\n      formatHref(href, category) {\r\n        if (category === 'hashtag') {\r\n          // eslint-disable-next-line no-param-reassign\r\n          href = `/search?hashtag=${href.substring(1)}&tab=${type}&id=${feed._id}`;\r\n        }\r\n        return href;\r\n      }\r\n    };\r\n    return (\r\n      <>\r\n        <div className=\"w-full\">\r\n          <div className='flex justify-center items-stretch relative'>\r\n            <div className={'relative'}>\r\n              {type === 'video' && (\r\n                <InView threshold={0.8} onChange={(inView) => this.setState({ inView })} className=\"relative\">\r\n                  <video\r\n                    style={{ width: '345px', aspectRatio: '4 / 6', objectFit: 'cover'}}\r\n                    className='rounded-lg max-w-full'\r\n                    onContextMenu={(event) => { event.preventDefault(); }}\r\n                    playsInline\r\n                    controlsList=\"nodownload\"\r\n                    autoPlay={false}\r\n                    src={(files?.length > 0 && files[0]?.url) || './static/background.gif'}\r\n                    ref={this.videoRef}\r\n                    onEnded={() => this.playVideo(feed._id)}\r\n                    disablePictureInPicture\r\n                    onClick={() => {\r\n                      isPlaying ? this.pauseVideo() : this.playVideo(feed._id);\r\n                    }}\r\n                  />\r\n                  {/* <div className=\"absolute bottom-0 right-0\">\r\n                    {isMute ? (\r\n                      <MuteIcon onClick={() => this.toggleMuteVideo()} />\r\n                    ) : (\r\n                      <SoundOutlined id=\"mute\" type=\"button\" data-state=\"mute\" onClick={() => this.toggleMuteVideo()} />\r\n                    )}\r\n                    <FullscreenOutlined\r\n                      id=\"fs\"\r\n                      type=\"button\"\r\n                      data-state=\"go-fullscreen\"\r\n                      onClick={() => this.toggleFullScreen()}\r\n                    />\r\n                  </div> */}\r\n                </InView>\r\n              )}\r\n              {type === 'photo' && (\r\n                <InView \r\n                  threshold={1}\r\n                  onChange={(inView) => this.setState({ inView })} \r\n                  className=\"rounded-lg\"\r\n                >\r\n                  <Image  \r\n                    onContextMenu={(event) => { event.preventDefault(); }} \r\n                    src={(files?.length > 0 && files[0]?.url) || './static/background.gif'} \r\n                    alt=\"\" \r\n                    className=\"max-w-full rounded-lg\"\r\n                    style={{ width: '345px', aspectRatio: '1/1', objectFit: 'cover'}}\r\n                  />\r\n                </InView>\r\n              )}\r\n              <div className=\"absolute top-2 left-2\" ref={this.wrapperRef}>\r\n                <MoreOutlined className=\"text-white text-lg\" onClick={() => this.setState({ visibleAction: !visibleAction })} />\r\n                {visibleAction && (\r\n                  <div className=\"render-action\">\r\n                    {loggedIn && (\r\n                      <Button onClick={() => this.setState({ openReportModal: !openReportModal })}>\r\n                        <FlagOutlined />\r\n                        <p>Report</p>\r\n                      </Button>\r\n                    )}\r\n                    {performer._id === user._id && (\r\n                      <>\r\n                        <Button\r\n                          onClick={() => {\r\n                            this.setState(\r\n                              {\r\n                                status: status === 'active' ? 'inactive' : 'active'\r\n                              },\r\n                              () => this.privateVideo()\r\n                            );\r\n                          }}\r\n                        >\r\n                          {status === 'active' ? <UnlockOutlined /> : <LockOutlined />}\r\n                          <p>{status === 'active' ? 'Public' : 'Private'}</p>\r\n                        </Button>\r\n                        <Button onClick={() => this.editVideo()}>\r\n                          <EditOutlined />\r\n                          <p>Edit</p>\r\n                        </Button>\r\n                        <Button onClick={() => { onDelete ? onDelete(feed) : this.deleteVideo(); }}>\r\n                          <DeleteOutlined />\r\n                          <p>Delete</p>\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                    <Popover\r\n                      title=\"Share to social network\"\r\n                      content={<ShareButtons performer={performer} siteName={siteName} post={feed} />}\r\n                    >\r\n                      <Button className=\"normal\" onMouseEnter={() => this.onShare(thumbUrl)}>\r\n                        <ShareIcon />\r\n                        <p>Share</p>\r\n                      </Button>\r\n                    </Popover>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"absolute w-full bottom-1 left-0 right-0 p-3\">\r\n                {currentPage !== 'recast' && (\r\n                <div className=\"text-white pb-2\">\r\n                  <Linkify options={linkifyOptions}>{`${feed.text} `}</Linkify>\r\n                </div>\r\n                )}\r\n                <div className=\"flex items-start justify-between gap-2\">\r\n                  <Link\r\n                    href={`/${performer?.username}`}\r\n                  >\r\n                    <div className='flex items-start justify-start gap-2'>\r\n                      <img className='h-12 w-12 rounded-full' src={performer?.avatar || './static/no-avatar.png'} alt=\"\" />\r\n                      <div className=\"\">\r\n                        <p className=\"text-white font-semibold pb-1\">\r\n                          {performer?.name?.substring(0, 14) || performer?.username?.substring(0, 14)}\r\n                        </p>\r\n                        <p className=\"text-white flex items-end justify-start gap-1 text-sm\">\r\n                          <ProfileIcon />\r\n                          {`${performer?.stats.totalFollower || '0'} Fans`}\r\n                        </p>\r\n                        <p className=\"text-white text-xs\">\r\n                          <span className=\"text-white\">\r\n                            {formatDateFromnow(feed?.createdAt)}\r\n                          </span>\r\n                          <span className='px-1'></span>\r\n                          <span className=\"text-white\">\r\n                            Views\r\n                            {' '}\r\n                            {currentPage === 'post' ? feed.stats.views : shortenLargeNumber(feed.stats.views)}\r\n                          </span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                  <div className=\"flex flex-col \">\r\n                    <ButtonFollow\r\n                      performer={performer}\r\n                      isHideOnClick\r\n                      targetId={performer?._id}\r\n                      sourceId={user?._id}\r\n                      isFollow={performer?.isFollowed}\r\n                      getPerformerList={() => {}}\r\n                      title=\"Follow\"\r\n                      isTrending\r\n                    />\r\n                    <div id={`progressBar${feed._id}`} className=\"progress\">\r\n                      {this.videoRef?.current && isShowProgressBar && (\r\n                        <div className=\"text-right pt-1 text-white\">\r\n                          <span id=\"current\">\r\n                            {`${Math.floor(this.videoRef.current?.currentTime / 60) || '0'}:${this.pad(\r\n                              Math.floor(this.videoRef.current?.currentTime % 60)\r\n                            )} `}\r\n                          </span>\r\n                          <span> </span>\r\n                          <span id=\"total\">\r\n                            {` ${Math.floor(this.videoRef.current?.duration / 60) || '0'}:${this.pad(\r\n                              Math.floor(this.videoRef.current?.duration % 60)\r\n                            )} `}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <ContentSidebarLayout\r\n                currentPage={currentPage}\r\n                totalComments={totalComment}\r\n                performer={performer}\r\n                feed={feed}\r\n                openCommentModal={() => {\r\n                  this.showComment();\r\n                }}\r\n                showCommentModel={showComment}\r\n              />\r\n              <ContentLeftbarLayout\r\n                currentPage={currentPage}\r\n                performer={performer}\r\n                crossPromotion={crossPromotion}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div> \r\n        {isHashtags ? \r\n          <div className=\"flex items-center justify-between gap-4 py-4 pt-8 max-w-[450px] m-auto\">\r\n            <a href={`/hashtag?keyword=${hashtag1?.trim()}&type=${feed.type}`} className='text-xl font-semibold'>{hashtag1}</a>\r\n            <a href={`/hashtag?keyword=${hashtag2?.trim()}&type=${feed.type}`} className='text-xl font-semibold'>{hashtag2}</a>\r\n            <a href={`/hashtag?keyword=${hashtag3?.trim()}&type=${feed.type}`} className='text-xl font-semibold'>{hashtag3}</a>\r\n          </div>\r\n        : null}\r\n        <Divider className={`${isHashtags ? 'mb-10' : 'my-16'} mx-auto`} style={{ maxWidth: '345px'}} />\r\n        <Modal\r\n          key=\"comment_post\"\r\n          className=\"subscription-modal\"\r\n          title={null}\r\n          visible={showComment}\r\n          footer={null}\r\n          destroyOnClose\r\n          onCancel={() => this.setState({ showComment: false, commentPage: 0 })}\r\n        >\r\n          <div className=\"descriptions-and-comment\">\r\n            <div className=\"select-category-comment\">\r\n              <span className=\"total-comment\">\r\n                Comments (\r\n                {totalComment}\r\n                )\r\n                {' '}\r\n              </span>\r\n              <div className=\"filter-comment\">\r\n                <Dropdown.Button\r\n                  className=\"dropdown-btn\"\r\n                  overlay={userMenu}\r\n                  icon={(\r\n                    <AlignRightOutlined\r\n                      rotate={180}\r\n                      style={{\r\n                        fontSize: '28px',\r\n                        border: 'none'\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={showComment ? 'show' : 'hide'}>\r\n              <div className=\"all-comment\">\r\n                <CommentForm\r\n                  creator={user}\r\n                  onSubmit={this.onFinishComment.bind(this)}\r\n                  objectId={feed._id}\r\n                  objectType=\"feed\"\r\n                  siteName={siteName}\r\n                />\r\n                <ListComments\r\n                  key={`list_comments_${feed._id}_${comments?.length}`}\r\n                  // eslint-disable-next-line no-prototype-builtins\r\n                  requesting={commentMapping.hasOwnProperty(feed._id) ? commentMapping[feed._id].requesting : false}\r\n                  comments={comments}\r\n                  feedOwnerId={feed.fromSourceId}\r\n                  loadMore={this.moreComment.bind(this)}\r\n                  onDelete={this.deleteComment.bind(this)}\r\n                  user={user}\r\n                  canLoadmore={\r\n                    commentMapping[feed._id] && (commentPage + 1) * itemPerPage < commentMapping[feed._id].total\r\n                  }\r\n                  canReply\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n        <Modal\r\n          key=\"report_post\"\r\n          className=\"subscription-modal\"\r\n          title={null}\r\n          visible={openReportModal}\r\n          footer={null}\r\n          destroyOnClose\r\n          onCancel={() => this.setState({ openReportModal: false })}\r\n        >\r\n          <ReportForm objectType={feed.type} performer={performer} submiting={requesting} onFinish={this.reportVideo.bind(this)} />\r\n        </Modal>\r\n        <Modal\r\n          key=\"verified_email\"\r\n          className=\"subscription-modal\"\r\n          title=\"Please verify your email address\"\r\n          visible={openVerifiedEmailModal}\r\n          footer={null}\r\n          destroyOnClose\r\n          onCancel={() => this.setState({ openVerifiedEmailModal: false })}\r\n        >\r\n          <VerifiedEmailForm />\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStates = (state: any) => {\r\n  const { commentMapping, comment } = state.comment;\r\n  return {\r\n    comment,\r\n    commentMapping,\r\n    siteName: state.ui.siteName,\r\n    user: state.user.current,\r\n    loggedIn: state.auth.loggedIn,\r\n    ui: { ...state.ui }\r\n  };\r\n};\r\n\r\nconst mapDispatch = {\r\n  getComments,\r\n  moreComment,\r\n  createComment,\r\n  deleteComment,\r\n  removeFeedSuccess,\r\n  updateStatsView,\r\n  removeTrendingFeedSuccess,\r\n  setMetaThumbnail\r\n};\r\n\r\nexport default connect(mapStates, mapDispatch)(FeedVideo);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}