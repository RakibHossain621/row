{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roman\\\\Pictures\\\\Case\\\\row\\\\src\\\\components\\\\common\\\\layout\\\\content-leftbar-layout.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport './content-sidebar-layout.less';\nimport { ROLE_PERMISSIONS } from 'src/constants';\nimport { useEffect, useState } from 'react';\nconst ContentLeftbarLayout = ({\n  performer,\n  crossPromotion = null,\n  currentUser,\n  loggedIn\n}) => {\n  var _crossPromotion$sourc, _crossPromotion$sourc2, _crossPromotion$sourc3, _crossPromotion$sourc4, _crossPromotion$sourc5;\n  const {\n    0: isVisiblePromote,\n    1: setVisiblePromote\n  } = useState(false);\n  useEffect(() => {\n    var _currentUser$roles;\n    if (loggedIn && (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && currentUser !== null && currentUser !== void 0 && (_currentUser$roles = currentUser.roles) !== null && _currentUser$roles !== void 0 && _currentUser$roles.includes(ROLE_PERMISSIONS.ROLE_HOST_PRIVATE) && currentUser !== null && currentUser !== void 0 && currentUser.roles.includes(ROLE_PERMISSIONS.ROLE_ALL_RISING_MODEL) && performer !== null && performer !== void 0 && performer.roles.includes(ROLE_PERMISSIONS.ROLE_HOST_CROSSPROMOTE)) {\n      setVisiblePromote(true);\n    }\n  }, [currentUser]);\n  return __jsx(\"div\", {\n    className: \"p-3 h-2/3 md:h-full flex flex-col items-center justify-start gap-3 absolute top-0 md:-left-20 left-0 w-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, performer.privateChat !== 0 ? __jsx(Link, {\n    href: {\n      pathname: '/user/private-waiting-room',\n      query: {\n        username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n      }\n    },\n    as: `/private-waiting-room/${(performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"block p-2 rounded text-center cursor-pointer bg-red-700 text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"Private Now\")) : ''), __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, performer.live !== 0 ? __jsx(Link, {\n    href: {\n      pathname: '/stream',\n      query: {\n        username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n      }\n    },\n    as: `/stream/${(performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"block p-2 rounded text-center cursor-pointer text-white md:text-black/90\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Live Now\")) : ''), isVisiblePromote && __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: {\n      pathname: '/model/profile',\n      query: {\n        username: (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc = crossPromotion.sourceInfo) === null || _crossPromotion$sourc === void 0 ? void 0 : _crossPromotion$sourc.username) || (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc2 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc2 === void 0 ? void 0 : _crossPromotion$sourc2._id)\n      }\n    },\n    as: `/model/profile?username=${(crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc3 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc3 === void 0 ? void 0 : _crossPromotion$sourc3.username) || (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc4 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc4 === void 0 ? void 0 : _crossPromotion$sourc4._id)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc5 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc5 === void 0 ? void 0 : _crossPromotion$sourc5.avatar) || '/static/no-image.jpg',\n    className: \"w-16 h-16 bg-blue-700 p-2 rounded\",\n    style: {\n      objectFit: 'cover',\n      aspectRatio: '1 / 1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }), __jsx(\"span\", {\n    className: \"block py-2 rounded text-center cursor-pointer text-white md:text-black/90\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, \"Visit my supporter\"))))));\n};\nconst mapStates = state => ({\n  currentUser: state.user.current,\n  loggedIn: state.auth.loggedIn\n});\nexport default connect(mapStates)(ContentLeftbarLayout);","map":{"version":3,"names":["Link","connect","ROLE_PERMISSIONS","useEffect","useState","ContentLeftbarLayout","performer","crossPromotion","currentUser","loggedIn","_crossPromotion$sourc","_crossPromotion$sourc2","_crossPromotion$sourc3","_crossPromotion$sourc4","_crossPromotion$sourc5","isVisiblePromote","setVisiblePromote","_currentUser$roles","_id","roles","includes","ROLE_HOST_PRIVATE","ROLE_ALL_RISING_MODEL","ROLE_HOST_CROSSPROMOTE","__jsx","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","React","Fragment","privateChat","href","pathname","query","username","as","live","sourceInfo","src","avatar","style","objectFit","aspectRatio","mapStates","state","user","current","auth"],"sources":["C:/Users/roman/Pictures/Case/row/src/components/common/layout/content-leftbar-layout.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { IPerformer } from 'src/interfaces';\r\nimport { Button, Avatar } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport './content-sidebar-layout.less';\r\nimport { ShakeHandIcon } from 'src/icons';\r\nimport { ROLE_PERMISSIONS } from 'src/constants';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface IProps {\r\n  performer: IPerformer;\r\n  currentUser:IPerformer;\r\n  // eslint-disable-next-line react/no-unused-prop-types, react/require-default-props\r\n  currentPage?: string;\r\n  // eslint-disable-next-line react/require-default-props\r\n  crossPromotion?:any;\r\n  loggedIn : any;\r\n}\r\n\r\nconst ContentLeftbarLayout = ({\r\n  performer,\r\n  crossPromotion = null,\r\n  currentUser,\r\n  loggedIn\r\n}: IProps) => {\r\n  const [isVisiblePromote, setVisiblePromote] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn && (currentUser?._id !== performer?._id) && currentUser?.roles?.includes(ROLE_PERMISSIONS.ROLE_HOST_PRIVATE) && currentUser?.roles.includes(ROLE_PERMISSIONS.ROLE_ALL_RISING_MODEL) && performer?.roles.includes(ROLE_PERMISSIONS.ROLE_HOST_CROSSPROMOTE)) {\r\n      setVisiblePromote(true);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div className=\"p-3 h-2/3 md:h-full flex flex-col items-center justify-start gap-3 absolute top-0 md:-left-20 left-0 w-20\">\r\n      <>\r\n        <div className=\"lib-icons max-w-full\">\r\n          {(performer.privateChat !== 0) ? (\r\n            <Link\r\n              href={{\r\n                pathname: '/user/private-waiting-room',\r\n                query: { username: performer?.username || performer?._id }\r\n              }}\r\n              as={`/private-waiting-room/${performer?.username || performer?._id}`}\r\n            >\r\n              <span className=\"block p-2 rounded text-center cursor-pointer bg-red-700 text-white\">Private Now</span>\r\n            </Link>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n        <div className=\"lib-icons max-w-full\">\r\n          {(performer.live !== 0) ? (\r\n            <Link\r\n              href={{\r\n                pathname: '/stream',\r\n                query: { username: performer?.username || performer?._id }\r\n              }}\r\n              as={`/stream/${performer?.username || performer?._id}`}\r\n            >\r\n              <span className=\"block p-2 rounded text-center cursor-pointer text-white md:text-black/90\">Live Now</span>\r\n            </Link>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n        {isVisiblePromote\r\n          && (\r\n            <div className=\"lib-icons max-w-full\">\r\n              <Link\r\n                href={{\r\n                  pathname: '/model/profile',\r\n                  query: { username: crossPromotion?.sourceInfo?.username || crossPromotion?.sourceInfo?._id }\r\n                }}\r\n                as={`/model/profile?username=${crossPromotion?.sourceInfo?.username || crossPromotion?.sourceInfo?._id}`}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <img src={crossPromotion?.sourceInfo?.avatar || '/static/no-image.jpg'} className='w-16 h-16 bg-blue-700 p-2 rounded' style={{objectFit: 'cover', aspectRatio: '1 / 1'}} />\r\n                  <span className=\"block py-2 rounded text-center cursor-pointer text-white md:text-black/90\">\r\n                    Visit my supporter\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        {/* <div className=\"gr-icons\">\r\n          {isVisiblePromote && (\r\n          <div className=\"icons-gr\">\r\n            <Link\r\n              href={{\r\n                pathname: '/cross-promotion',\r\n                query: { id: performer?._id }\r\n              }}\r\n              as={`/cross-promotion?id=${performer?._id}`}\r\n            >\r\n              <ShakeHandIcon />\r\n            </Link>\r\n          </div>\r\n          )}\r\n        </div> */}\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStates = (state: any) => ({\r\n  currentUser: state.user.current,\r\n  loggedIn: state.auth.loggedIn\r\n});\r\n\r\nexport default connect(mapStates)(ContentLeftbarLayout);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}