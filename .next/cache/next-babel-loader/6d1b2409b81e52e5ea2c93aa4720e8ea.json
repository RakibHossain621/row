{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\components\\\\post\\\\search-bar.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { Input, DatePicker, Select } from 'antd';\nimport { debounce } from 'lodash';\nimport './index.less';\nimport { connect } from 'react-redux';\nconst {\n  RangePicker\n} = DatePicker;\nconst {\n  Search\n} = Input;\nclass SearchFeedBar extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"state\", {\n      q: '',\n      isGrid: false,\n      showSearch: false,\n      showCalendar: false\n    });\n    _defineProperty(this, \"onSearch\", debounce(async val => {\n      const {\n        handleSearch\n      } = this.props;\n      val === 'oldest' ? handleSearch({\n        sortBy: 'createdAt',\n        sort: 'asc'\n      }) : handleSearch({\n        sortBy: val,\n        sort: 'desc'\n      });\n    }, 500));\n  }\n  componentDidUpdate(prevProps) {\n    const {\n      tab: prevTab\n    } = prevProps;\n    const {\n      tab\n    } = this.props;\n    if (prevTab !== tab) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        q: ''\n      });\n    }\n  }\n  handleViewGrid(isGrid) {\n    const {\n      handleViewGrid: viewGrid\n    } = this.props;\n    this.setState({\n      isGrid\n    });\n    viewGrid(isGrid);\n  }\n  searchDateRange(dates, dateStrings) {\n    if (!dateStrings.length) return;\n    const {\n      handleSearch\n    } = this.props;\n    handleSearch({\n      fromDate: dateStrings[0],\n      toDate: dateStrings[1]\n    });\n  }\n  render() {\n    const {\n      q,\n      isGrid,\n      showSearch,\n      showCalendar\n    } = this.state;\n    const {\n      searching,\n      dropdownValue,\n      handleDropDown\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"search-post-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, showCalendar && __jsx(RangePicker, {\n      onChange: this.searchDateRange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), showSearch && __jsx(Search, {\n      placeholder: \"Enter keyword here...\",\n      onChange: e => {\n        var _e$target;\n        e.persist();\n        this.setState({\n          q: (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || ''\n        });\n        this.onSearch(e);\n      },\n      value: q,\n      loading: searching,\n      allowClear: true,\n      enterButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }), __jsx(\"div\", {\n      className: \"grid-btns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, __jsx(Select, {\n      placeholder: \"\",\n      defaultValue: \"Newest\",\n      showSearch: true,\n      optionFilterProp: \"label\",\n      value: dropdownValue,\n      onChange: val => {\n        this.onSearch(val);\n        handleDropDown(val);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, __jsx(Select.Option, {\n      key: \"newest\",\n      label: \"Newest\",\n      value: \"updatedAt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, \"Newest\"), __jsx(Select.Option, {\n      key: \"oldest\",\n      label: \"Oldest\",\n      value: \"oldest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, \"Oldest\"), __jsx(Select.Option, {\n      key: \"views\",\n      label: \"Most Viewed\",\n      value: \"views\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, \"Most Viewed\"))));\n  }\n}\nconst mapStates = state => ({\n  currentUser: _objectSpread({}, state.user.current)\n});\nexport default connect(mapStates)(SearchFeedBar);","map":{"version":3,"names":["PureComponent","Input","DatePicker","Select","debounce","connect","RangePicker","Search","SearchFeedBar","constructor","args","_defineProperty","q","isGrid","showSearch","showCalendar","val","handleSearch","props","sortBy","sort","componentDidUpdate","prevProps","tab","prevTab","setState","handleViewGrid","viewGrid","searchDateRange","dates","dateStrings","length","fromDate","toDate","render","state","searching","dropdownValue","handleDropDown","__jsx","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","bind","placeholder","e","_e$target","persist","target","value","onSearch","loading","allowClear","enterButton","defaultValue","optionFilterProp","Option","key","label","mapStates","currentUser","_objectSpread","user","current"],"sources":["C:/Users/Rokibul/Documents/case/src/components/post/search-bar.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { Input, DatePicker, Select } from 'antd';\nimport { debounce } from 'lodash';\nimport './index.less';\nimport { connect } from 'react-redux';\n\nconst { RangePicker } = DatePicker;\n\nconst { Search } = Input;\ninterface IProps {\n  searching: boolean;\n  handleSearch: Function;\n  handleViewGrid?: Function;\n  tab: string;\n  dropdownValue?:string\n  handleDropDown?:(value:string) => void\n}\n\nclass SearchFeedBar extends PureComponent<IProps> {\n  state = {\n    q: '',\n    isGrid: false,\n    showSearch: false,\n    showCalendar: false\n  };\n\n  componentDidUpdate(prevProps) {\n    const { tab: prevTab } = prevProps;\n    const { tab } = this.props;\n    if (prevTab !== tab) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ q: '' });\n    }\n  }\n\n  onSearch = debounce(async (val) => {\n    const { handleSearch } = this.props;\n    val === 'oldest'\n      ? handleSearch({\n        sortBy: 'createdAt',\n        sort: 'asc'\n      }) : handleSearch({\n        sortBy: val,\n        sort: 'desc'\n      });\n  }, 500);\n\n  handleViewGrid(isGrid: boolean) {\n    const { handleViewGrid: viewGrid } = this.props;\n    this.setState({ isGrid });\n    viewGrid(isGrid);\n  }\n\n  searchDateRange(dates: [any, any], dateStrings: [string, string]) {\n    if (!dateStrings.length) return;\n    const { handleSearch } = this.props;\n    handleSearch({\n      fromDate: dateStrings[0],\n      toDate: dateStrings[1]\n    });\n  }\n\n  render() {\n    const {\n      q, isGrid, showSearch, showCalendar\n    } = this.state;\n    const { searching , dropdownValue, handleDropDown} = this.props;\n    return (\n      <div className=\"search-post-bar\">\n        {showCalendar && (\n          <RangePicker onChange={this.searchDateRange.bind(this)} />\n        )}\n        {showSearch && (\n          <Search\n            placeholder=\"Enter keyword here...\"\n            onChange={(e) => {\n              e.persist();\n              this.setState({ q: e?.target?.value || '' });\n              this.onSearch(e);\n            }}\n            value={q}\n            loading={searching}\n            allowClear\n            enterButton\n          />\n        )}\n        <div className=\"grid-btns\">\n          {/* <a\n            aria-hidden\n            title=\"New Post\"\n            hidden={currentUser._id !== performer._id}\n            href=\"/model/my-post/create\"\n          >\n            <VideoCameraAddOutlined />\n          </a> */}\n          {/* <a aria-hidden className={showSearch ? 'active' : ''} onClick={() => this.setState({ showSearch: !showSearch, showCalendar: false })}><SearchOutlined /></a> */}\n          {/* <a aria-hidden className={showCalendar ? 'active' : ''} onClick={() => this.setState({ showCalendar: !showCalendar, showSearch: false })}><CalendarOutlined /></a> */}\n          <Select\n            placeholder=\"\"\n            defaultValue=\"Newest\"\n            showSearch\n            optionFilterProp=\"label\"\n            value={dropdownValue}\n            onChange={(val) => {\n              this.onSearch(val)\n              handleDropDown(val)\n            }}\n          >\n            <Select.Option key=\"newest\" label=\"Newest\" value=\"updatedAt\">\n              Newest\n            </Select.Option>\n            <Select.Option key=\"oldest\" label=\"Oldest\" value=\"oldest\">\n              Oldest\n            </Select.Option>\n            <Select.Option key=\"views\" label=\"Most Viewed\" value=\"views\">\n              Most Viewed\n            </Select.Option>\n\n          </Select>\n          {/* <a\n            aria-hidden\n            className={isGrid ? 'active' : ''}\n            onClick={this.handleViewGrid.bind(this, true)}\n          >\n            <AppstoreOutlined />\n          </a>\n          <a\n            aria-hidden\n            className={!isGrid ? 'active' : ''}\n            onClick={this.handleViewGrid.bind(this, false)}\n          >\n            <MenuOutlined />\n          </a> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStates = (state: any) => ({\n  currentUser: { ...state.user.current }\n});\nexport default connect(mapStates)(SearchFeedBar);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}