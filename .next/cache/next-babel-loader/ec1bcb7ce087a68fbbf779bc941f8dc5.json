{"ast":null,"code":"import classnames from 'classnames';\nexport function initializePlayer(id, cls) {\n  const video = document.createElement('video');\n  video.id = id;\n  video.className = classnames('video-js broadcaster', cls);\n  video.autoplay = true;\n  video.muted = true;\n  video.controls = true;\n  video.playsInline = true;\n  return video;\n}\n\n// eslint-disable-next-line no-shadow\nexport function tryToPlay(url, appName, streamId, token, type, subscriberId, subscriberCode, noStreamCallback, initializePlayer) {\n  fetch(`${window.location.protocol}//${url}/${appName}/streams/${streamId}_adaptive.${type}`, {\n    method: 'HEAD'\n  }).then(response => {\n    if (response.status === 200) {\n      // adaptive m3u8 & mpd exists,play it\n      initializePlayer(`${streamId}_adaptive`, type, token, subscriberId, subscriberCode);\n    } else {\n      // adaptive not exists, try mpd or m3u8 exists.\n      fetch(`${window.location.protocol}//${url}/${appName}/streams/${streamId}.${type}`, {\n        method: 'HEAD'\n      })\n      // eslint-disable-next-line no-shadow\n      .then(response => {\n        if (response.status === 200) {\n          initializePlayer(streamId, type, token, subscriberId, subscriberCode);\n        } else {\n          // eslint-disable-next-line no-console\n          console.log('No stream found');\n          if (typeof noStreamCallback !== 'undefined') {\n            noStreamCallback();\n          }\n        }\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(`Error: ${err}`);\n      });\n    }\n  }).catch(err => {\n    // eslint-disable-next-line no-console\n    console.log(`Error: ${err}`);\n  });\n}","map":{"version":3,"names":["classnames","initializePlayer","id","cls","video","document","createElement","className","autoplay","muted","controls","playsInline","tryToPlay","url","appName","streamId","token","type","subscriberId","subscriberCode","noStreamCallback","fetch","window","location","protocol","method","then","response","status","console","log","catch","err"],"sources":["C:/Users/Rokibul/Documents/case/src/antmedia/utils.ts"],"sourcesContent":["import classnames from 'classnames';\n\nexport function initializePlayer(id: string, cls?: string): HTMLVideoElement {\n  const video = document.createElement('video');\n  video.id = id;\n  video.className = classnames('video-js broadcaster', cls);\n  video.autoplay = true;\n  video.muted = true;\n  video.controls = true;\n  video.playsInline = true;\n  return video;\n}\n\n// eslint-disable-next-line no-shadow\nexport function tryToPlay(url: string, appName: string, streamId: string, token: string, type: string, subscriberId: string, subscriberCode: string, noStreamCallback: Function, initializePlayer: Function) {\n  fetch(`${window.location.protocol}//${url}/${appName}/streams/${streamId}_adaptive.${type}`, { method: 'HEAD' })\n    .then((response) => {\n      if (response.status === 200) {\n        // adaptive m3u8 & mpd exists,play it\n        initializePlayer(`${streamId}_adaptive`, type, token, subscriberId, subscriberCode);\n      } else {\n        // adaptive not exists, try mpd or m3u8 exists.\n        fetch(`${window.location.protocol}//${url}/${appName}/streams/${streamId}.${type}`, { method: 'HEAD' })\n          // eslint-disable-next-line no-shadow\n          .then((response) => {\n            if (response.status === 200) {\n              initializePlayer(streamId, type, token, subscriberId, subscriberCode);\n            } else {\n              // eslint-disable-next-line no-console\n              console.log('No stream found');\n              if (typeof noStreamCallback !== 'undefined') {\n                noStreamCallback();\n              }\n            }\n          }).catch((err) => {\n            // eslint-disable-next-line no-console\n            console.log(`Error: ${err}`);\n          });\n      }\n    }).catch((err) => {\n      // eslint-disable-next-line no-console\n      console.log(`Error: ${err}`);\n    });\n}\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,OAAO,SAASC,gBAAgBA,CAACC,EAAU,EAAEC,GAAY,EAAoB;EAC3E,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC7CF,KAAK,CAACF,EAAE,GAAGA,EAAE;EACbE,KAAK,CAACG,SAAS,GAAGP,UAAU,CAAC,sBAAsB,EAAEG,GAAG,CAAC;EACzDC,KAAK,CAACI,QAAQ,GAAG,IAAI;EACrBJ,KAAK,CAACK,KAAK,GAAG,IAAI;EAClBL,KAAK,CAACM,QAAQ,GAAG,IAAI;EACrBN,KAAK,CAACO,WAAW,GAAG,IAAI;EACxB,OAAOP,KAAK;AACd;;AAEA;AACA,OAAO,SAASQ,SAASA,CAACC,GAAW,EAAEC,OAAe,EAAEC,QAAgB,EAAEC,KAAa,EAAEC,IAAY,EAAEC,YAAoB,EAAEC,cAAsB,EAAEC,gBAA0B,EAAEnB,gBAA0B,EAAE;EAC3MoB,KAAK,CAAC,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAKX,GAAG,IAAIC,OAAO,YAAYC,QAAQ,aAAaE,IAAI,EAAE,EAAE;IAAEQ,MAAM,EAAE;EAAO,CAAC,CAAC,CAC7GC,IAAI,CAAEC,QAAQ,IAAK;IAClB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC3B;MACA3B,gBAAgB,CAAC,GAAGc,QAAQ,WAAW,EAAEE,IAAI,EAAED,KAAK,EAAEE,YAAY,EAAEC,cAAc,CAAC;IACrF,CAAC,MAAM;MACL;MACAE,KAAK,CAAC,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAKX,GAAG,IAAIC,OAAO,YAAYC,QAAQ,IAAIE,IAAI,EAAE,EAAE;QAAEQ,MAAM,EAAE;MAAO,CAAC;MACpG;MAAA,CACCC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;UAC3B3B,gBAAgB,CAACc,QAAQ,EAAEE,IAAI,EAAED,KAAK,EAAEE,YAAY,EAAEC,cAAc,CAAC;QACvE,CAAC,MAAM;UACL;UACAU,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9B,IAAI,OAAOV,gBAAgB,KAAK,WAAW,EAAE;YAC3CA,gBAAgB,CAAC,CAAC;UACpB;QACF;MACF,CAAC,CAAC,CAACW,KAAK,CAAEC,GAAG,IAAK;QAChB;QACAH,OAAO,CAACC,GAAG,CAAC,UAAUE,GAAG,EAAE,CAAC;MAC9B,CAAC,CAAC;IACN;EACF,CAAC,CAAC,CAACD,KAAK,CAAEC,GAAG,IAAK;IAChB;IACAH,OAAO,CAACC,GAAG,CAAC,UAAUE,GAAG,EAAE,CAAC;EAC9B,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module"}