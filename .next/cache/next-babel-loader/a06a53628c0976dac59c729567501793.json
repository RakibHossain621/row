{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\components\\\\post\\\\scroll-list-performer.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nvar __jsx = React.createElement;\n/* eslint-disable react/require-default-props */\nimport { useEffect, useState } from 'react';\nimport { Spin } from 'antd';\nimport FeedVideo from '@components/performer/feed-video';\nimport './index.less';\nfunction getWindowDimensions() {\n  if (true) {\n    var _document = document,\n      body = _document.body;\n    return body.offsetHeight;\n  }\n  return 0;\n}\nvar ScrollListPerformer = function ScrollListPerformer(_ref) {\n  _s();\n  var _ref$items = _ref.items,\n    items = _ref$items === void 0 ? [] : _ref$items,\n    canLoadmore = _ref.canLoadmore,\n    loadMore = _ref.loadMore,\n    loading = _ref.loading,\n    currentPage = _ref.currentPage,\n    scrollHeight = _ref.scrollHeight;\n  var _useState = useState(getWindowDimensions()),\n    bodyHeight = _useState[0],\n    setWindowDimensions = _useState[1];\n  var _useState2 = useState(0),\n    headerHeight = _useState2[0],\n    setHeaderHeight = _useState2[1];\n  var _useState3 = useState(0),\n    tabHeight = _useState3[0],\n    setTabHeight = _useState3[1];\n  useEffect(function () {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    if (true) {\n      window.addEventListener('resize', handleResize);\n      return function () {\n        return window.removeEventListener('resize', handleResize);\n      };\n    }\n    return null;\n  }, []);\n  useEffect(function () {\n    if (true) {\n      var _document$getElementB, _document$getElementB2, _document$getElementB3, _document$getElementB4;\n      setHeaderHeight((_document$getElementB = document.getElementById('main-header')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.clientHeight);\n      (_document$getElementB2 = document.getElementById('tab-header')) !== null && _document$getElementB2 !== void 0 && _document$getElementB2.clientHeight ? setTabHeight((_document$getElementB3 = document.getElementById('tab-header')) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.clientHeight) : setTabHeight((_document$getElementB4 = document.getElementById('ant-tabs-nav')) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.clientHeight);\n    }\n  }, [scrollHeight]);\n  useEffect(function () {\n    if (canLoadmore) loadMore();\n  }, [canLoadmore]);\n  return __jsx(React.Fragment, null, (items === null || items === void 0 ? void 0 : items.length) > 0 && items.map(function (item, index) {\n    return (item === null || item === void 0 ? void 0 : item._id) && __jsx(FeedVideo, {\n      feed: item,\n      currentPage: currentPage,\n      key: \"\".concat((item === null || item === void 0 ? void 0 : item._id) + index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    });\n  }), loading && __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(Spin, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })));\n};\n_s(ScrollListPerformer, \"I6XO/GT7/64XB3/8Sb2ZAhOjBlw=\");\n_c = ScrollListPerformer;\nexport default ScrollListPerformer;\nvar _c;\n$RefreshReg$(_c, \"ScrollListPerformer\");","map":{"version":3,"names":["useEffect","useState","Spin","FeedVideo","getWindowDimensions","_document","document","body","offsetHeight","ScrollListPerformer","_ref","_s","_ref$items","items","canLoadmore","loadMore","loading","currentPage","scrollHeight","_useState","bodyHeight","setWindowDimensions","_useState2","headerHeight","setHeaderHeight","_useState3","tabHeight","setTabHeight","handleResize","window","addEventListener","removeEventListener","_document$getElementB","_document$getElementB2","_document$getElementB3","_document$getElementB4","getElementById","clientHeight","__jsx","React","Fragment","length","map","item","index","_id","feed","key","concat","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/Rokibul/Documents/case/src/components/post/scroll-list-performer.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\nimport { useDebugValue, useEffect, useState } from 'react';\nimport { Spin } from 'antd';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { IFeed } from '@interfaces/index';\nimport FeedVideo from '@components/performer/feed-video';\nimport './index.less';\n\ninterface IProps {\n  items: IFeed[];\n  canLoadmore: boolean;\n  loadMore(): Function;\n  loading: boolean;\n  currentPage: string;\n  scrollHeight?: number;\n}\n\nfunction getWindowDimensions() {\n  if (typeof window !== 'undefined') {\n    const { body } = document;\n    return body.offsetHeight;\n  }\n  return 0;\n}\n\nconst ScrollListPerformer = ({\n  items = [], canLoadmore, loadMore, loading, currentPage, scrollHeight\n}: IProps) => {\n  const [bodyHeight, setWindowDimensions] = useState(getWindowDimensions());\n  const [headerHeight, setHeaderHeight] = useState(0);\n  const [tabHeight, setTabHeight] = useState(0);\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', handleResize);\n      return () => window.removeEventListener('resize', handleResize);\n    }\n    return null;\n  }, []);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setHeaderHeight(document.getElementById('main-header')?.clientHeight);\n      document.getElementById('tab-header')?.clientHeight\n        ? setTabHeight(document.getElementById('tab-header')?.clientHeight)\n        : setTabHeight(document.getElementById('ant-tabs-nav')?.clientHeight);\n    }\n  }, [scrollHeight]);\n\n  useEffect(() => {\n    if (canLoadmore) loadMore() \n  }, [canLoadmore])\n\n  return (\n    <>\n      {items?.length > 0\n        && items.map(\n          (item, index) => item?._id && \n            <FeedVideo \n              feed={item} \n              currentPage={currentPage} \n              key={`${item?._id + index}`} \n            />\n        )}\n      {loading && (\n        <div className=\"text-center\">\n          <Spin />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ScrollListPerformer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}