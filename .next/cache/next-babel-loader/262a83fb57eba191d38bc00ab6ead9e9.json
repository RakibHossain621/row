{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\roman\\\\Pictures\\\\Case\\\\row\\\\src\\\\components\\\\common\\\\layout\\\\content-leftbar-layout.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport './content-sidebar-layout.less';\nimport { ROLE_PERMISSIONS } from 'src/constants';\nimport { useEffect, useState } from 'react';\nvar ContentLeftbarLayout = function ContentLeftbarLayout(_ref) {\n  _s();\n  var _crossPromotion$sourc, _crossPromotion$sourc2, _crossPromotion$sourc3, _crossPromotion$sourc4, _crossPromotion$sourc5;\n  var performer = _ref.performer,\n    _ref$crossPromotion = _ref.crossPromotion,\n    crossPromotion = _ref$crossPromotion === void 0 ? null : _ref$crossPromotion,\n    currentUser = _ref.currentUser,\n    loggedIn = _ref.loggedIn;\n  var _useState = useState(false),\n    isVisiblePromote = _useState[0],\n    setVisiblePromote = _useState[1];\n  useEffect(function () {\n    var _currentUser$roles;\n    if (loggedIn && (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && currentUser !== null && currentUser !== void 0 && (_currentUser$roles = currentUser.roles) !== null && _currentUser$roles !== void 0 && _currentUser$roles.includes(ROLE_PERMISSIONS.ROLE_HOST_PRIVATE) && currentUser !== null && currentUser !== void 0 && currentUser.roles.includes(ROLE_PERMISSIONS.ROLE_ALL_RISING_MODEL) && performer !== null && performer !== void 0 && performer.roles.includes(ROLE_PERMISSIONS.ROLE_HOST_CROSSPROMOTE)) {\n      setVisiblePromote(true);\n    }\n  }, [currentUser]);\n  return __jsx(\"div\", {\n    className: \"p-3 h-2/3 md:h-full flex flex-col items-center justify-start gap-3 absolute top-0 md:-left-20 left-0 w-20\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, performer.privateChat !== 0 ? __jsx(Link, {\n    href: {\n      pathname: '/user/private-waiting-room',\n      query: {\n        username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n      }\n    },\n    as: \"/private-waiting-room/\".concat((performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"block p-2 rounded text-center cursor-pointer bg-red-700 text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"Private Now\")) : ''), __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, performer.live !== 0 ? __jsx(Link, {\n    href: {\n      pathname: '/stream',\n      query: {\n        username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n      }\n    },\n    as: \"/stream/\".concat((performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"block p-2 rounded text-center cursor-pointer text-white md:text-black/90\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Live Now\")) : ''), isVisiblePromote && __jsx(\"div\", {\n    className: \"lib-icons max-w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: {\n      pathname: '/model/profile',\n      query: {\n        username: (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc = crossPromotion.sourceInfo) === null || _crossPromotion$sourc === void 0 ? void 0 : _crossPromotion$sourc.username) || (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc2 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc2 === void 0 ? void 0 : _crossPromotion$sourc2._id)\n      }\n    },\n    as: \"/model/profile?username=\".concat((crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc3 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc3 === void 0 ? void 0 : _crossPromotion$sourc3.username) || (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc4 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc4 === void 0 ? void 0 : _crossPromotion$sourc4._id)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: (crossPromotion === null || crossPromotion === void 0 ? void 0 : (_crossPromotion$sourc5 = crossPromotion.sourceInfo) === null || _crossPromotion$sourc5 === void 0 ? void 0 : _crossPromotion$sourc5.avatar) || '/static/no-image.jpg',\n    className: \"w-16 h-16 bg-blue-700 p-2 rounded\",\n    style: {\n      objectFit: 'cover',\n      aspectRatio: '1 / 1'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }), __jsx(\"span\", {\n    className: \"block py-2 rounded text-center cursor-pointer text-white md:text-black/90\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, \"Visit my supporter\"))))));\n};\n_s(ContentLeftbarLayout, \"VDACdY3GaVAty9P6/ZFEgJYVnVk=\");\n_c = ContentLeftbarLayout;\nvar mapStates = function mapStates(state) {\n  return {\n    currentUser: state.user.current,\n    loggedIn: state.auth.loggedIn\n  };\n};\nexport default connect(mapStates)(ContentLeftbarLayout);\nvar _c;\n$RefreshReg$(_c, \"ContentLeftbarLayout\");","map":{"version":3,"names":["Link","connect","ROLE_PERMISSIONS","useEffect","useState","ContentLeftbarLayout","_ref","_s","_crossPromotion$sourc","_crossPromotion$sourc2","_crossPromotion$sourc3","_crossPromotion$sourc4","_crossPromotion$sourc5","performer","_ref$crossPromotion","crossPromotion","currentUser","loggedIn","_useState","isVisiblePromote","setVisiblePromote","_currentUser$roles","_id","roles","includes","ROLE_HOST_PRIVATE","ROLE_ALL_RISING_MODEL","ROLE_HOST_CROSSPROMOTE","__jsx","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","React","Fragment","privateChat","href","pathname","query","username","as","concat","live","sourceInfo","src","avatar","style","objectFit","aspectRatio","_c","mapStates","state","user","current","auth","$RefreshReg$"],"sources":["C:/Users/roman/Pictures/Case/row/src/components/common/layout/content-leftbar-layout.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { IPerformer } from 'src/interfaces';\r\nimport { Button, Avatar } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport './content-sidebar-layout.less';\r\nimport { ShakeHandIcon } from 'src/icons';\r\nimport { ROLE_PERMISSIONS } from 'src/constants';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface IProps {\r\n  performer: IPerformer;\r\n  currentUser:IPerformer;\r\n  // eslint-disable-next-line react/no-unused-prop-types, react/require-default-props\r\n  currentPage?: string;\r\n  // eslint-disable-next-line react/require-default-props\r\n  crossPromotion?:any;\r\n  loggedIn : any;\r\n}\r\n\r\nconst ContentLeftbarLayout = ({\r\n  performer,\r\n  crossPromotion = null,\r\n  currentUser,\r\n  loggedIn\r\n}: IProps) => {\r\n  const [isVisiblePromote, setVisiblePromote] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn && (currentUser?._id !== performer?._id) && currentUser?.roles?.includes(ROLE_PERMISSIONS.ROLE_HOST_PRIVATE) && currentUser?.roles.includes(ROLE_PERMISSIONS.ROLE_ALL_RISING_MODEL) && performer?.roles.includes(ROLE_PERMISSIONS.ROLE_HOST_CROSSPROMOTE)) {\r\n      setVisiblePromote(true);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div className=\"p-3 h-2/3 md:h-full flex flex-col items-center justify-start gap-3 absolute top-0 md:-left-20 left-0 w-20\">\r\n      <>\r\n        <div className=\"lib-icons max-w-full\">\r\n          {(performer.privateChat !== 0) ? (\r\n            <Link\r\n              href={{\r\n                pathname: '/user/private-waiting-room',\r\n                query: { username: performer?.username || performer?._id }\r\n              }}\r\n              as={`/private-waiting-room/${performer?.username || performer?._id}`}\r\n            >\r\n              <span className=\"block p-2 rounded text-center cursor-pointer bg-red-700 text-white\">Private Now</span>\r\n            </Link>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n        <div className=\"lib-icons max-w-full\">\r\n          {(performer.live !== 0) ? (\r\n            <Link\r\n              href={{\r\n                pathname: '/stream',\r\n                query: { username: performer?.username || performer?._id }\r\n              }}\r\n              as={`/stream/${performer?.username || performer?._id}`}\r\n            >\r\n              <span className=\"block p-2 rounded text-center cursor-pointer text-white md:text-black/90\">Live Now</span>\r\n            </Link>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n        {isVisiblePromote\r\n          && (\r\n            <div className=\"lib-icons max-w-full\">\r\n              <Link\r\n                href={{\r\n                  pathname: '/model/profile',\r\n                  query: { username: crossPromotion?.sourceInfo?.username || crossPromotion?.sourceInfo?._id }\r\n                }}\r\n                as={`/model/profile?username=${crossPromotion?.sourceInfo?.username || crossPromotion?.sourceInfo?._id}`}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <img src={crossPromotion?.sourceInfo?.avatar || '/static/no-image.jpg'} className='w-16 h-16 bg-blue-700 p-2 rounded' style={{objectFit: 'cover', aspectRatio: '1 / 1'}} />\r\n                  <span className=\"block py-2 rounded text-center cursor-pointer text-white md:text-black/90\">\r\n                    Visit my supporter\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        {/* <div className=\"gr-icons\">\r\n          {isVisiblePromote && (\r\n          <div className=\"icons-gr\">\r\n            <Link\r\n              href={{\r\n                pathname: '/cross-promotion',\r\n                query: { id: performer?._id }\r\n              }}\r\n              as={`/cross-promotion?id=${performer?._id}`}\r\n            >\r\n              <ShakeHandIcon />\r\n            </Link>\r\n          </div>\r\n          )}\r\n        </div> */}\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStates = (state: any) => ({\r\n  currentUser: state.user.current,\r\n  loggedIn: state.auth.loggedIn\r\n});\r\n\r\nexport default connect(mapStates)(ContentLeftbarLayout);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}