{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\components\\\\modals\\\\photo-video-upload\\\\createNewPhotoModal.tsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React, { useState, useCallback } from 'react';\nimport { AppButton } from '@components/ui/shared/AppButton';\nimport { connect, useDispatch } from 'react-redux';\nimport { updateModals } from '@redux/modals/actions';\nimport useClickOutside from 'src/hooks/useClickOutside';\nimport useDisableScroll from 'src/hooks/useDisabledScroll';\nimport { RecordIcon, UploadIcon } from './icons';\nimport { feedService } from '@services/feed.service';\nimport { message } from 'antd';\nimport { getResponseError } from '@lib/utils';\nimport UploadList from '@components/file/list-media';\nimport { useRouter } from 'next/router';\nimport { generateUuid } from '@lib/string';\nconst getDuration = file => new Promise((resolve, reject) => {\n  try {\n    const video = document.createElement('video');\n    video.preload = 'metadata';\n    video.onloadedmetadata = function onLoadMetaData() {\n      resolve(this);\n    };\n    video.onerror = function error() {\n      Promise.reject(new Error('Invalid video. Please select a video file.'));\n    };\n    video.src = window.URL.createObjectURL(file);\n  } catch (e) {\n    reject(e);\n  }\n});\nconst CreateNewPhotoModal = ({\n  modalProps,\n  onClose,\n  currentUser\n}) => {\n  const router = useRouter();\n  const [, updateState] = React.useState();\n  const forceUpdate = React.useCallback(() => updateState({}), []);\n  const dispatch = useDispatch();\n  const {\n    0: isUploading,\n    1: setUploading\n  } = useState(false);\n  const {\n    0: hashtag1,\n    1: setHashtag1\n  } = useState('');\n  const {\n    0: hashtag2,\n    1: setHashtag2\n  } = useState('');\n  const {\n    0: hashtag3,\n    1: setHashtag3\n  } = useState('');\n  const {\n    0: isPublic,\n    1: setIsPublic\n  } = useState(true);\n  const onsubmit = async () => {\n    const description = `#${hashtag1.split(' ').join('')} ${hashtag2 ? `#${hashtag2.split(' ').join('')}` : ''} ${hashtag3 ? `#${hashtag3.split(' ').join('')}` : ''} `;\n    const ObjectToSend = {\n      thumbnailId: modalProps.imageInfos.fileIds[0] || null,\n      type: 'photo',\n      teaserId: modalProps.imageInfos.fileIds[0] || null,\n      status: isPublic ? 'active' : 'inactive',\n      // \n      fileIds: modalProps.imageInfos.fileIds,\n      fromSourceId: currentUser._id,\n      hashtag1: hashtag1,\n      hashtag2: hashtag2,\n      hashtag3: hashtag3,\n      text: description.trim()\n    };\n    try {\n      var _createFeed$data;\n      setUploading(true);\n      const createFeed = await feedService.create(ObjectToSend);\n      message.success('Posted successfully!');\n      setUploading(false);\n      dispatch(updateModals({\n        uploadPhotoModal: {\n          isOpen: false,\n          imageInfos: {\n            fileIds: [],\n            fileList: []\n          }\n        }\n      }));\n      router.push(`model/profile?username=${currentUser.username}&tab=${(_createFeed$data = createFeed.data) === null || _createFeed$data === void 0 ? void 0 : _createFeed$data.type}`);\n    } catch (err) {\n      const error = await Promise.resolve(err);\n      message.error(getResponseError(error) || 'Something went wrong, please try again');\n      setUploading(false);\n    }\n  };\n  const remove = useCallback(file => {\n    dispatch(updateModals({\n      uploadPhotoModal: {\n        isOpen: true,\n        imageInfos: {\n          // @ts-expect-error\n          fileList: modalProps.imageInfos.fileList.filter(f => (f === null || f === void 0 ? void 0 : f._id) !== (file === null || file === void 0 ? void 0 : file._id) || (f === null || f === void 0 ? void 0 : f.uid) !== (file === null || file === void 0 ? void 0 : file.uid)) || modalProps.imageInfos.fileList,\n          fileIds: modalProps.imageInfos.fileIds.filter(id => id !== (file === null || file === void 0 ? void 0 : file._id)) || modalProps.imageInfos.fileIds\n        }\n      }\n    }));\n  }, []);\n  const onUploading = (file, resp) => {\n    // eslint-disable-next-line no-param-reassign\n    file.percent = resp.percentage;\n    // eslint-disable-next-line no-param-reassign\n    if (file.percent === 100) file.status = 'done';\n    forceUpdate();\n  };\n  const onFinishFileCapture = async file => {\n    try {\n      setUploading(true);\n      const resp = await feedService.uploadFile(file, {}, onUploading.bind(this, file));\n      dispatch(updateModals({\n        isPhotoCameraModal: false,\n        uploadPhotoModal: {\n          isOpen: true,\n          imageInfos: {\n            fileList: modalProps.imageInfos.fileList.length ? [...modalProps.imageInfos.fileList, {\n              thumnail: URL.createObjectURL(file),\n              percent: 100,\n              status: 'done',\n              url: URL.createObjectURL(file),\n              uid: generateUuid(),\n              type: file.type || 'image/png'\n            }] : [{\n              thumnail: URL.createObjectURL(file),\n              percent: 100,\n              status: 'done',\n              url: URL.createObjectURL(file),\n              uid: generateUuid(),\n              type: file.type || 'image/png'\n            }],\n            fileIds: modalProps.imageInfos.fileIds.length ? [...modalProps.imageInfos.fileIds, resp.data.fileId] : [resp.data.fileId]\n          }\n        }\n      }));\n      setUploading(false);\n      return true;\n    } catch (error) {\n      message.error('Error uploading! Please try again');\n      console.error(error);\n      setUploading(false);\n      return false;\n    }\n  };\n  useDisableScroll(modalProps === null || modalProps === void 0 ? void 0 : modalProps.isOpen);\n  const ref = useClickOutside(onClose);\n  if (!(modalProps !== null && modalProps !== void 0 && modalProps.isOpen)) {\n    return null;\n  }\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    tabIndex: -1,\n    \"aria-hidden\": \"true\",\n    className: `overflow-y-auto px-5 overflow-x-hidden fixed flex top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full ${modalProps !== null && modalProps !== void 0 && modalProps.isOpen ? 'block' : 'hidden'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    ref: ref,\n    role: \"dialog\",\n    className: \"w-full max-w-[580px] max-h-full m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"bg-white rounded-lg shadow text-leftt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"flex justify-between px-5 py-5 border-b rounded-t border-base-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    className: \"inline-flex items-center gap-x-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"text-xl text-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Post new photo\")), __jsx(\"button\", {\n    onClick: onClose,\n    type: \"button\",\n    className: \"inline-flex items-center justify-center w-6 h-6 text-sm text-gray-400 bg-transparent rounded-lg hover:bg-gray-200 hover:text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }, __jsx(\"svg\", {\n    className: \"w-3 h-3\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 14 14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, __jsx(\"path\", {\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  })), __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, \"Close modal\"))), __jsx(\"div\", {\n    className: \"p-4 flex items-center justify-center md:justify-between gap-8 md:gap-4 md:flex-nowrap flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, __jsx(\"h3\", {\n    className: \"text-black font-semibold text-lg text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, \"Step 1\"), __jsx(\"h4\", {\n    className: \"text-black text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, \"Take a photo with your webcam or upload a photo from your computer\")), __jsx(\"div\", {\n    className: \"text-black text-center font-semibold whitespace-nowrap relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    className: \"absolute inset-0 opacity-0\",\n    onChange: e => onFinishFileCapture(e.target.files[0]),\n    type: \"file\",\n    multiple: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    className: \"text-black h-20 w-20 rounded-full bg-purple-800 mb-2 flex items-center justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, __jsx(UploadIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  })), \"Upload photo\"), __jsx(\"button\", {\n    className: \"text-black text-center font-semibold whitespace-nowrap\",\n    onClick: () => dispatch(updateModals({\n      isPhotoCameraModal: true,\n      uploadPhotoModal: _objectSpread({\n        isOpen: false\n      }, modalProps)\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"text-black h-20 w-20 rounded-full bg-black mb-2 flex items-center justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, __jsx(RecordIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  })), \"Take Photo\")), __jsx(UploadList, {\n    type: 'photo',\n    files: modalProps.imageInfos.fileList || [],\n    remove: remove,\n    onAddMore: () => {},\n    uploading: isUploading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    className: \"pb-4\",\n    style: {\n      maxWidth: '350px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, __jsx(\"h3\", {\n    className: \"text-black font-semibold text-lg text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, \"Step 2\"), __jsx(\"h4\", {\n    className: \"text-black text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }, \"Accurate hashtags increase viewership\")), __jsx(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-3 gap-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"relative w-full border border-gray-200 rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 19\n    }\n  }, \"#\"), __jsx(\"input\", {\n    value: hashtag1,\n    onChange: e => setHashtag1(e.target.value),\n    type: \"text\",\n    className: \"w-full rounded-lg border-0 pl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    className: \"relative w-full border border-gray-200 rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, \"#\"), __jsx(\"input\", {\n    value: hashtag2,\n    onChange: e => setHashtag2(e.target.value),\n    type: \"text\",\n    className: \"w-full rounded-lg border-0 pl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    className: \"relative w-full border border-gray-200 rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, \"#\"), __jsx(\"input\", {\n    value: hashtag3,\n    onChange: e => setHashtag3(e.target.value),\n    type: \"text\",\n    className: \"w-full rounded-lg border-0 pl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"p-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 15\n    }\n  }, __jsx(\"h3\", {\n    className: \"text-black font-semibold text-lg text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }, \"Step 3\"), __jsx(\"h4\", {\n    className: \"text-black text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }, \"Select photo visibility\")), __jsx(\"select\", {\n    value: isPublic ? 'public' : 'private',\n    onChange: e => setIsPublic(e.target.value === 'public' ? true : false),\n    className: \"border-gray-200 rounded-lg w-full flex-1\",\n    name: \"visibility\",\n    id: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    style: {\n      backgroundColor: '#F3E6F1',\n      color: '#121212'\n    },\n    value: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"Public\"), __jsx(\"option\", {\n    style: {\n      backgroundColor: '#F3E6F1',\n      color: '#121212'\n    },\n    value: \"private\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, \"Private\"))), __jsx(\"div\", {\n    className: \"flex-grow px-6 py-5 md:self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"flex items-center gap-3 sm:flex-row justify-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: onClose,\n    className: \"text-sm font-medium text-black hover:opacity-80 hover:underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, \"Cancel\"), __jsx(AppButton, {\n    onClick: onsubmit,\n    size: \"base\",\n    type: \"submit\",\n    disabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, \"Next\")))))), __jsx(\"div\", {\n    className: `fixed inset-0 z-40 bg-gray-900 bg-opacity-30 ${modalProps !== null && modalProps !== void 0 && modalProps.isOpen ? 'block' : 'hidden'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }\n  }));\n};\nconst mapState = state => ({\n  modals: _objectSpread({}, state.modals),\n  currentUser: state.user.current\n});\nconst mapDispatch = {\n  updateModals\n};\nexport default connect(mapState, mapDispatch)(CreateNewPhotoModal);","map":{"version":3,"names":["React","useState","useCallback","AppButton","connect","useDispatch","updateModals","useClickOutside","useDisableScroll","RecordIcon","UploadIcon","feedService","message","getResponseError","UploadList","useRouter","generateUuid","getDuration","file","Promise","resolve","reject","video","document","createElement","preload","onloadedmetadata","onLoadMetaData","onerror","error","Error","src","window","URL","createObjectURL","e","CreateNewPhotoModal","modalProps","onClose","currentUser","router","updateState","forceUpdate","dispatch","isUploading","setUploading","hashtag1","setHashtag1","hashtag2","setHashtag2","hashtag3","setHashtag3","isPublic","setIsPublic","onsubmit","description","split","join","ObjectToSend","thumbnailId","imageInfos","fileIds","type","teaserId","status","fromSourceId","_id","text","trim","_createFeed$data","createFeed","create","success","uploadPhotoModal","isOpen","fileList","push","username","data","err","remove","filter","f","uid","id","onUploading","resp","percent","percentage","onFinishFileCapture","uploadFile","bind","isPhotoCameraModal","length","thumnail","url","fileId","console","ref","__jsx","Fragment","tabIndex","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onChange","target","files","multiple","_objectSpread","onAddMore","uploading","style","maxWidth","value","name","backgroundColor","color","size","disabled","mapState","state","modals","user","current","mapDispatch"],"sources":["C:/Users/Rokibul/Documents/case/src/components/modals/photo-video-upload/createNewPhotoModal.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\n\nimport * as yup from \"yup\"\n\nimport { AppButton } from '@components/ui/shared/AppButton';\nimport { connect, useDispatch } from 'react-redux';\nimport { updateModals } from '@redux/modals/actions';\nimport useClickOutside from 'src/hooks/useClickOutside';\nimport useDisableScroll from 'src/hooks/useDisabledScroll';\nimport { RecordIcon, UploadIcon } from './icons';\nimport { feedService } from '@services/feed.service';\nimport { message } from 'antd';\nimport { getResponseError } from '@lib/utils';\nimport UploadList from '@components/file/list-media';\nimport { IPerformer } from '@interfaces/performer';\nimport { useRouter } from 'next/router';\nimport { getGlobalConfig } from '@services/config';\nimport { generateUuid } from '@lib/string';\n\ninterface ModalProps {\n  modalProps: {\n    isOpen: boolean,\n    imageInfos: {\n      fileList: [],\n      fileIds: string[]\n    };\n  }\n  onClose: () => void;\n  currentUser?: IPerformer\n}\n\nconst getDuration = (file) => new Promise((resolve, reject) => {\n  try {\n    const video = document.createElement('video');\n    video.preload = 'metadata';\n    video.onloadedmetadata = function onLoadMetaData() {\n      resolve(this);\n    };\n    video.onerror = function error() {\n      Promise.reject(\n        new Error('Invalid video. Please select a video file.')\n      );\n    };\n    video.src = window.URL.createObjectURL(file);\n  } catch (e) {\n    reject(e);\n  }\n});\n\nconst CreateNewPhotoModal = ({ modalProps, onClose, currentUser }: ModalProps) => {\n  const router = useRouter()\n  const [, updateState] = React.useState() as any;\n  const forceUpdate = React.useCallback(() => updateState({}), []);\n  const dispatch = useDispatch()\n  const [isUploading, setUploading] = useState(false)\n\n  const [hashtag1, setHashtag1] = useState('')\n  const [hashtag2, setHashtag2] = useState('')\n  const [hashtag3, setHashtag3] = useState('')\n\n  const [isPublic, setIsPublic] = useState(true)\n\n  const onsubmit = async () => {\n    const description = `#${hashtag1.split(' ').join('')} ${hashtag2 ? `#${hashtag2.split(' ').join('')}` : ''\n      } ${hashtag3 ? `#${hashtag3.split(' ').join('')}` : ''\n      } `;\n      \n    const ObjectToSend = {\n      thumbnailId: modalProps.imageInfos.fileIds[0] || null,\n      type: 'photo',\n      teaserId: modalProps.imageInfos.fileIds[0] || null,\n      status: isPublic ? 'active' : 'inactive',\n      // \n      fileIds: modalProps.imageInfos.fileIds,\n      fromSourceId: currentUser._id,\n      hashtag1: hashtag1,\n      hashtag2: hashtag2,\n      hashtag3: hashtag3,\n      text: description.trim(),\n    }\n\n    try {\n      setUploading(true);\n\n      const createFeed = await feedService.create(ObjectToSend)\n\n      message.success('Posted successfully!');\n      setUploading(false);\n      dispatch(updateModals({\n        uploadPhotoModal: {\n          isOpen: false,\n          imageInfos: {\n            fileIds: [],\n            fileList: []\n          }\n        }\n      }))\n      router.push(\n        `model/profile?username=${currentUser.username}&tab=${createFeed.data?.type}`\n      );\n    } catch (err) {\n      const error = await Promise.resolve(err);\n      message.error(\n        getResponseError(error) || 'Something went wrong, please try again'\n      );\n      setUploading(false);\n    }\n  }\n\n  const remove = useCallback((file) => {\n    dispatch(updateModals({\n      uploadPhotoModal: {\n        isOpen: true,\n        imageInfos: {\n          // @ts-expect-error\n          fileList: modalProps.imageInfos.fileList.filter((f) => f?._id !== file?._id || f?.uid !== file?.uid) || modalProps.imageInfos.fileList,\n          fileIds: modalProps.imageInfos.fileIds.filter((id) => id !== file?._id) || modalProps.imageInfos.fileIds\n        }\n      }\n    }))\n  }, []);\n\n  const onUploading = (file, resp: any) => {\n    // eslint-disable-next-line no-param-reassign\n    file.percent = resp.percentage;\n    // eslint-disable-next-line no-param-reassign\n    if (file.percent === 100) file.status = 'done';\n    forceUpdate();\n  };\n\n  const onFinishFileCapture = async (file) => {\n    try {\n      setUploading(true);\n      const resp = await feedService.uploadFile(file, {}, onUploading.bind(this, file));\n\n      dispatch(updateModals({\n        isPhotoCameraModal: false,\n        uploadPhotoModal: {\n          isOpen: true,\n          imageInfos: {\n            fileList: modalProps.imageInfos.fileList.length\n              ? [...modalProps.imageInfos.fileList, {\n                  thumnail: URL.createObjectURL(file),\n                  percent: 100,\n                  status: 'done',\n                  url: URL.createObjectURL(file),\n                  uid: generateUuid(),\n                  type: file.type || 'image/png'\n                }]\n              : [{\n                  thumnail: URL.createObjectURL(file),\n                  percent: 100,\n                  status: 'done',\n                  url: URL.createObjectURL(file),\n                  uid: generateUuid(),\n                  type: file.type || 'image/png'\n                }],\n            fileIds: modalProps.imageInfos.fileIds.length\n              ? [...modalProps.imageInfos.fileIds, resp.data.fileId]\n              : [resp.data.fileId]\n          }\n        }\n      }));\n      setUploading(false);\n      return true;\n    } catch (error) {\n      message.error('Error uploading! Please try again');\n      console.error(error);\n      setUploading(false);\n      return false;\n    }\n  };\n\n\n  useDisableScroll(modalProps?.isOpen);\n  const ref = useClickOutside(onClose);\n\n  if (!modalProps?.isOpen) {\n    return null;\n  }\n\n  return (\n    <>\n      <div tabIndex={-1} aria-hidden=\"true\" className={`overflow-y-auto px-5 overflow-x-hidden fixed flex top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full ${modalProps?.isOpen ? 'block' : 'hidden'}`}>\n        <div ref={ref} role='dialog' className=\"w-full max-w-[580px] max-h-full m-auto\">\n          <div className=\"bg-white rounded-lg shadow text-leftt\">\n            <div className=\"flex justify-between px-5 py-5 border-b rounded-t border-base-400\">\n              <h2 className=\"inline-flex items-center gap-x-2\">\n                <span className='text-xl text-black'>\n                  Post new photo\n                </span>\n              </h2>\n\n              <button onClick={onClose} type=\"button\" className=\"inline-flex items-center justify-center w-6 h-6 text-sm text-gray-400 bg-transparent rounded-lg hover:bg-gray-200 hover:text-gray-900\">\n                <svg className=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\">\n                  <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\" />\n                </svg>\n                <span className=\"sr-only\">Close modal</span>\n              </button>\n            </div>\n\n            <div className='p-4 flex items-center justify-center md:justify-between gap-8 md:gap-4 md:flex-nowrap flex-wrap'>\n              <article>\n                <h3 className='text-black font-semibold text-lg text-center'>Step 1</h3>\n                <h4 className='text-black text-lg'>Take a photo with your webcam or upload a photo from your computer</h4>\n              </article>\n\n              <div className='text-black text-center font-semibold whitespace-nowrap relative'>\n                <input className='absolute inset-0 opacity-0' onChange={(e) => onFinishFileCapture(e.target.files[0])} type='file' multiple={false} />\n                <span className='text-black h-20 w-20 rounded-full bg-purple-800 mb-2 flex items-center justify-center'>\n                  <UploadIcon />\n                </span>\n                Upload photo\n              </div>\n              <button \n                className='text-black text-center font-semibold whitespace-nowrap'\n                onClick={() => dispatch(updateModals({\n                  isPhotoCameraModal: true,\n                  uploadPhotoModal: {\n                    isOpen: false,\n                    ...modalProps\n                  }\n                }))}\n              >\n                <span className='text-black h-20 w-20 rounded-full bg-black mb-2 flex items-center justify-center'>\n                  <RecordIcon />\n                </span>\n                Take Photo\n              </button>\n            </div>\n\n            <UploadList\n              type={'photo'}\n              files={modalProps.imageInfos.fileList || []}\n              remove={remove}\n              onAddMore={() => {}}\n              uploading={isUploading}\n            />\n\n            <div className='p-4'>\n              <article className='pb-4' style={{ maxWidth: '350px'}}>\n                <h3 className='text-black font-semibold text-lg text-center'>Step 2</h3>\n                <h4 className='text-black text-lg'>Accurate hashtags increase viewership</h4>\n              </article>\n              <div className='grid grid-cols-1 md:grid-cols-3 gap-3'>\n                <div className='relative w-full border border-gray-200 rounded-lg'>\n                  <span className='font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center'>#</span>\n                  <input value={hashtag1} onChange={(e) => setHashtag1(e.target.value)} type=\"text\" className='w-full rounded-lg border-0 pl-4' />\n                </div>\n                <div className='relative w-full border border-gray-200 rounded-lg'>\n                  <span className='font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center'>#</span>\n                  <input value={hashtag2} onChange={(e) => setHashtag2(e.target.value)} type=\"text\" className='w-full rounded-lg border-0 pl-4' />\n                </div>\n                <div className='relative w-full border border-gray-200 rounded-lg'>\n                  <span className='font-bold absolute left-2 top-0 bottom-0 m-auto rounded flex items-center justify-center'>#</span>\n                  <input value={hashtag3} onChange={(e) => setHashtag3(e.target.value)} type=\"text\" className='w-full rounded-lg border-0 pl-4' />\n                </div>\n              </div>\n            </div>\n\n            <div className='p-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-6'>\n              <article>\n                <h3 className='text-black font-semibold text-lg text-center'>Step 3</h3>\n                <h4 className='text-black text-lg'>Select photo visibility</h4>\n              </article>\n              <select value={isPublic ? 'public' : 'private'} onChange={(e) => setIsPublic(e.target.value === 'public' ? true : false)} className='border-gray-200 rounded-lg w-full flex-1' name=\"visibility\" id=\"\">\n                <option style={{backgroundColor: '#F3E6F1', color: '#121212'}}  value=\"public\">Public</option>\n                <option style={{backgroundColor: '#F3E6F1', color: '#121212'}}  value=\"private\">Private</option>\n              </select>\n            </div>\n\n            <div className='flex-grow px-6 py-5 md:self-end'>\n              <div className='flex items-center gap-3 sm:flex-row justify-end'>\n                <button onClick={onClose} className=\"text-sm font-medium text-black hover:opacity-80 hover:underline\">\n                  Cancel\n                </button>\n\n                <AppButton onClick={onsubmit} size='base' type='submit' disabled={false}>Next</AppButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={`fixed inset-0 z-40 bg-gray-900 bg-opacity-30 ${modalProps?.isOpen ? 'block' : 'hidden'}`} />\n    </>\n  );\n};\n\nconst mapState = (state) => ({\n  modals: { ...state.modals },\n  currentUser: state.user.current\n});\n\nconst mapDispatch = {\n  updateModals,\n};\n\nexport default connect(mapState, mapDispatch)(CreateNewPhotoModal);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}