{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roman\\\\Pictures\\\\Case\\\\row\\\\src\\\\components\\\\performer\\\\common\\\\select-performer-dropdown.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable react/require-default-props */\nimport { PureComponent } from 'react';\nimport { Select, message } from 'antd';\nimport { debounce } from 'lodash';\nimport { performerService } from '@services/performer.service';\nexport class SelectPerformerDropdown extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"state\", {\n      loading: false,\n      data: []\n    });\n    _defineProperty(this, \"loadPerformers\", debounce(async q => {\n      try {\n        this.setState({\n          loading: true\n        });\n        const resp = await (await performerService.search({\n          q,\n          limit: 99\n        })).data;\n        this.setState({\n          data: resp.data,\n          loading: false\n        });\n      } catch (e) {\n        const err = await e;\n        message.error((err === null || err === void 0 ? void 0 : err.message) || 'Error occured');\n        this.setState({\n          loading: false\n        });\n      }\n    }, 500));\n  }\n  componentDidMount() {\n    this.loadPerformers('');\n  }\n  render() {\n    const {\n      style,\n      onSelect,\n      defaultValue,\n      disabled\n    } = this.props;\n    const {\n      data,\n      loading\n    } = this.state;\n    return __jsx(Select, {\n      showSearch: true,\n      defaultValue: defaultValue,\n      placeholder: \"Type to search model...\",\n      style: style,\n      onSearch: this.loadPerformers.bind(this),\n      onChange: val => onSelect(val),\n      loading: loading,\n      optionFilterProp: \"children\",\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, __jsx(Select.Option, {\n      value: \"\",\n      key: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"All\"), data && data.length > 0 && data.map(u => __jsx(Select.Option, {\n      value: u._id,\n      key: u._id,\n      style: {\n        textTransform: 'capitalize'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, `${(u === null || u === void 0 ? void 0 : u.name) || (u === null || u === void 0 ? void 0 : u.username)}`)));\n  }\n}","map":{"version":3,"names":["PureComponent","Select","message","debounce","performerService","SelectPerformerDropdown","constructor","args","_defineProperty","loading","data","q","setState","resp","search","limit","e","err","error","componentDidMount","loadPerformers","render","style","onSelect","defaultValue","disabled","props","state","__jsx","showSearch","placeholder","onSearch","bind","onChange","val","optionFilterProp","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Option","value","key","length","map","u","_id","textTransform","name","username"],"sources":["C:/Users/roman/Pictures/Case/row/src/components/performer/common/select-performer-dropdown.tsx"],"sourcesContent":["/* eslint-disable react/require-default-props */\r\nimport { PureComponent } from 'react';\r\nimport { Select, message } from 'antd';\r\nimport { debounce } from 'lodash';\r\nimport { performerService } from '@services/performer.service';\r\n\r\ninterface IProps {\r\n  style?: Record<string, string>;\r\n  onSelect: Function;\r\n  defaultValue?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport class SelectPerformerDropdown extends PureComponent<IProps> {\r\n  state = {\r\n    loading: false,\r\n    data: [] as any\r\n  };\r\n\r\n  loadPerformers = debounce(async (q) => {\r\n    try {\r\n      this.setState({ loading: true });\r\n      const resp = await (await performerService.search({ q, limit: 99 })).data;\r\n      this.setState({\r\n        data: resp.data,\r\n        loading: false\r\n      });\r\n    } catch (e) {\r\n      const err = await e;\r\n      message.error(err?.message || 'Error occured');\r\n      this.setState({ loading: false });\r\n    }\r\n  }, 500);\r\n\r\n  componentDidMount() {\r\n    this.loadPerformers('');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      style, onSelect, defaultValue, disabled\r\n    } = this.props;\r\n    const { data, loading } = this.state;\r\n    return (\r\n      <Select\r\n        showSearch\r\n        defaultValue={defaultValue}\r\n        placeholder=\"Type to search model...\"\r\n        style={style}\r\n        onSearch={this.loadPerformers.bind(this)}\r\n        onChange={(val) => onSelect(val)}\r\n        loading={loading}\r\n        optionFilterProp=\"children\"\r\n        disabled={disabled}\r\n      >\r\n        <Select.Option value=\"\" key=\"default\">\r\n          All\r\n        </Select.Option>\r\n        {data && data.length > 0 && data.map((u) => (\r\n          <Select.Option value={u._id} key={u._id} style={{ textTransform: 'capitalize' }}>\r\n            {`${u?.name || u?.username}`}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}