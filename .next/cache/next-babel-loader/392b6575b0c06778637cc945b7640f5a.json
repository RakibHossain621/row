{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rokibul\\\\Documents\\\\case\\\\src\\\\layouts\\\\base-layout.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/* eslint-disable no-nested-ternary */\nimport { PureComponent } from 'react';\nimport { blockService } from '@services/index';\nimport BlankLayout from './blank-layout';\nimport PrimaryLayout from './primary-layout';\nimport MaintenaceLayout from './maintenance-layout';\nimport GEOLayout from './geoBlocked-layout';\nimport PublicLayout from './public-layout';\nimport streamSidebarLayout from './stream-sidebar-layout';\nimport mobileLayout from './mobile-layout';\nconst LayoutMap = {\n  geoBlock: GEOLayout,\n  maintenance: MaintenaceLayout,\n  primary: PrimaryLayout,\n  public: PublicLayout,\n  blank: BlankLayout,\n  streamLayout: streamSidebarLayout,\n  mobile: mobileLayout\n};\nexport default class BaseLayout extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"state\", {\n      geoBlocked: false\n    });\n  }\n  componentDidMount() {\n    // process.env.NODE_ENV === 'production' && document.addEventListener('contextmenu', (event) => event.preventDefault());\n    this.clientCheckBlockByIp();\n  }\n  componentWillUnmount() {\n    // process.env.NODE_ENV === 'production' && document.removeEventListener('contextmenu', (event) => event.preventDefault());\n  }\n  async clientCheckBlockByIp() {\n    var _checkBlock$data;\n    const checkBlock = await blockService.checkCountryBlock();\n    if (checkBlock !== null && checkBlock !== void 0 && (_checkBlock$data = checkBlock.data) !== null && _checkBlock$data !== void 0 && _checkBlock$data.blocked) {\n      this.setState({\n        geoBlocked: true\n      });\n    }\n  }\n  render() {\n    const {\n      children,\n      layout,\n      maintenance = false\n    } = this.props;\n    const {\n      geoBlocked\n    } = this.state;\n    // eslint-disable-next-line no-nested-ternary\n    const Container = maintenance ? LayoutMap.maintenance : geoBlocked ? LayoutMap.geoBlock : layout && LayoutMap[layout] ? LayoutMap[layout] : LayoutMap.primary;\n    return __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }, children);\n  }\n}","map":{"version":3,"names":["PureComponent","blockService","BlankLayout","PrimaryLayout","MaintenaceLayout","GEOLayout","PublicLayout","streamSidebarLayout","mobileLayout","LayoutMap","geoBlock","maintenance","primary","public","blank","streamLayout","mobile","BaseLayout","constructor","args","_defineProperty","geoBlocked","componentDidMount","clientCheckBlockByIp","componentWillUnmount","_checkBlock$data","checkBlock","checkCountryBlock","data","blocked","setState","render","children","layout","props","state","Container","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/Rokibul/Documents/case/src/layouts/base-layout.tsx"],"sourcesContent":["/* eslint-disable no-nested-ternary */\nimport { PureComponent } from 'react';\nimport { blockService } from '@services/index';\nimport BlankLayout from './blank-layout';\nimport PrimaryLayout from './primary-layout';\nimport MaintenaceLayout from './maintenance-layout';\nimport GEOLayout from './geoBlocked-layout';\nimport PublicLayout from './public-layout';\nimport streamSidebarLayout from './stream-sidebar-layout';\nimport mobileLayout from './mobile-layout';\n\ninterface DefaultProps {\n  children: any;\n  layout: string;\n  maintenance: boolean;\n}\n\nconst LayoutMap = {\n  geoBlock: GEOLayout,\n  maintenance: MaintenaceLayout,\n  primary: PrimaryLayout,\n  public: PublicLayout,\n  blank: BlankLayout,\n  streamLayout: streamSidebarLayout,\n  mobile: mobileLayout\n};\n\nexport default class BaseLayout extends PureComponent<DefaultProps> {\n  state = {\n    geoBlocked: false\n  };\n\n  componentDidMount() {\n    // process.env.NODE_ENV === 'production' && document.addEventListener('contextmenu', (event) => event.preventDefault());\n    this.clientCheckBlockByIp();\n  }\n\n  componentWillUnmount() {\n    // process.env.NODE_ENV === 'production' && document.removeEventListener('contextmenu', (event) => event.preventDefault());\n  }\n\n  async clientCheckBlockByIp() {\n    const checkBlock = await blockService.checkCountryBlock();\n    if (checkBlock?.data?.blocked) {\n      this.setState({ geoBlocked: true });\n    }\n  }\n\n  render() {\n    const { children, layout, maintenance = false } = this.props;\n    const { geoBlocked } = this.state;\n    // eslint-disable-next-line no-nested-ternary\n    const Container = maintenance\n      ? LayoutMap.maintenance\n      : geoBlocked\n        ? LayoutMap.geoBlock\n        : layout && LayoutMap[layout]\n          ? LayoutMap[layout]\n          : LayoutMap.primary;\n    return <Container>{children}</Container>;\n  }\n}\n"],"mappings":";;;;;;AAAA;AACA,SAASA,aAAa,QAAQ,OAAO;AACrC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,OAAOC,gBAAgB,MAAM,sBAAsB;AACnD,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,mBAAmB,MAAM,yBAAyB;AACzD,OAAOC,YAAY,MAAM,iBAAiB;AAQ1C,MAAMC,SAAS,GAAG;EAChBC,QAAQ,EAAEL,SAAS;EACnBM,WAAW,EAAEP,gBAAgB;EAC7BQ,OAAO,EAAET,aAAa;EACtBU,MAAM,EAAEP,YAAY;EACpBQ,KAAK,EAAEZ,WAAW;EAClBa,YAAY,EAAER,mBAAmB;EACjCS,MAAM,EAAER;AACV,CAAC;AAED,eAAe,MAAMS,UAAU,SAASjB,aAAa,CAAe;EAAAkB,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAAC,eAAA,gBAC1D;MACNC,UAAU,EAAE;IACd,CAAC;EAAA;EAEDC,iBAAiBA,CAAA,EAAG;IAClB;IACA,IAAI,CAACC,oBAAoB,CAAC,CAAC;EAC7B;EAEAC,oBAAoBA,CAAA,EAAG;IACrB;EAAA;EAGF,MAAMD,oBAAoBA,CAAA,EAAG;IAAA,IAAAE,gBAAA;IAC3B,MAAMC,UAAU,GAAG,MAAMzB,YAAY,CAAC0B,iBAAiB,CAAC,CAAC;IACzD,IAAID,UAAU,aAAVA,UAAU,gBAAAD,gBAAA,GAAVC,UAAU,CAAEE,IAAI,cAAAH,gBAAA,eAAhBA,gBAAA,CAAkBI,OAAO,EAAE;MAC7B,IAAI,CAACC,QAAQ,CAAC;QAAET,UAAU,EAAE;MAAK,CAAC,CAAC;IACrC;EACF;EAEAU,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEC,QAAQ;MAAEC,MAAM;MAAEtB,WAAW,GAAG;IAAM,CAAC,GAAG,IAAI,CAACuB,KAAK;IAC5D,MAAM;MAAEb;IAAW,CAAC,GAAG,IAAI,CAACc,KAAK;IACjC;IACA,MAAMC,SAAS,GAAGzB,WAAW,GACzBF,SAAS,CAACE,WAAW,GACrBU,UAAU,GACRZ,SAAS,CAACC,QAAQ,GAClBuB,MAAM,IAAIxB,SAAS,CAACwB,MAAM,CAAC,GACzBxB,SAAS,CAACwB,MAAM,CAAC,GACjBxB,SAAS,CAACG,OAAO;IACzB,OAAOyB,KAAA,CAACD,SAAS;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEX,QAAoB,CAAC;EAC1C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}